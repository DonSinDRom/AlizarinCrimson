"use strict";function getflashinstance(t){return-1!=navigator.appName.indexOf("Microsoft")?window[t]:document[t]}function setvolume(t){var e=t.pageX-$("#volume .slider")[0].offsetLeft;0>e&&(e=0),e>125&&(e=125),$("#volume .slider .bar").width(e),player.volume(e/125),$.Storage.set("volume",e/125*1e3+" ")}function handle_storage(t){t||(t=window.event),"play"==t.key&&"true"==t.newValue&&(player.stop(),$("#console .streamcontrol .stop").hide(),$("#console .streamcontrol .play").show())}function sortFunction(t,e){return t.r<e.r?1:t.r>e.r?-1:t.r==e.r?parseInt(t.id)-parseInt(e.id):0}function findUrl(t,e){var n,i;for(n=0;n<t.length;++n)if(i=t[n],i.size==e){var a=i["#text"];if(a.length>0)return i["#text"]}return"img/nocover.png"}function getcover(t,e,n){var i="img/nocover.png";lastfm&&lastfm.track.getInfo({artist:t,track:e,autocorrect:1},{success:function(e){try{i=findUrl(e.track.album.image,"medium"),n(i)}catch(a){lastfm.artist.getInfo({artist:t,autocorrect:1},{success:function(t){i=findUrl(t.artist.image,"medium"),n(i)},error:function(){n(i)}})}},error:function(){n(i)}})}function Client(){this.version=2205,this.user=null,this.channel={},this.callbacks={},this.chat=null,this.trackscache=[]}function sortFunction(t,e){return t.r<e.r?1:t.r>e.r?-1:t.r==e.r?parseInt(t.id)-parseInt(e.id):0}function findUrl(t,e){var n,i;for(n=0;n<t.length;++n)if(i=t[n],i.size==e){var a=i["#text"];if(a.length>0)return i["#text"]}return"img/nocover.png"}function getcover(t,e,n){var i="img/nocover.png";lastfm&&lastfm.track.getInfo({artist:t,track:e,autocorrect:1},{success:function(e){try{i=findUrl(e.track.album.image,"medium"),n(i)}catch(a){lastfm.artist.getInfo({artist:t,autocorrect:1},{success:function(t){i=findUrl(t.artist.image,"medium"),n(i)},error:function(){n(i)}})}},error:function(){n(i)}})}function Client(){this.version=2205,this.user=null,this.channel={},this.callbacks={},this.chat=null,this.trackscache=[]}function switch_style(t){var e,n;for(e=0,n=document.getElementsByTagName("link");e<n.length;e++){-1!=n[e].rel.indexOf("stylesheet")&&n[e].title&&(n[e].disabled=!0,n[e].title==t&&(n[e].disabled=!1));var i="<a href='#' onclick=\"switch_style('day');return false;\">Сделать день</a>";"day"==t&&(i="<a href='#' onclick=\"switch_style('nigth');return false;\">Сделать ночь</a>"),$("#styleswitch").html(i),$.Storage.set("style",t)}}function getElectionData(){client.getElection(function(t){console.log(t)})}function recoverymode(t){recovery=t,recovery?($("#console .loginform .button").html('<a href="javascript:void(0);">Вспомнить</a>'),$("#recovery").html('<a href="javascript:recoverymode(false); void(0);">Я вспомнил!</a>'),$("#lgpass").hide(),$("#save").hide(),$("#lgname").attr("placeholder","Почта"),$(".loginform .alert").html("Введи адрес ящика на который приходил инвайт")):($("#console .loginform .button").html('<a href="javascript:void(0);">Вход</a>'),$("#recovery").html('<a href="javascript:recoverymode(true); void(0);">Я забыл пароль</a>'),$("#lgpass").show(),$("#lgname").attr("placeholder","Юзернейм"),$("#save").show(),$(".loginform .alert").html(""))}function settink(){tink?$.Storage.set("tink","true"):$.Storage.set("tink","false"),$("#info .content.chat .log").animate({scrollTop:$(".log")[0].scrollHeight},1200)}function setnoimg(){noimg?($.Storage.set("noimg","true"),$("#info .log").find("img").css("display","none").after('<span class="pc">картинка</span>')):($.Storage.set("noimg","false"),$("#info .log").find("img").css("display",""),$("#info .log .pc").remove()),$("#info .content.chat .log").animate({scrollTop:$(".log")[0].scrollHeight},1200)}function verbalTime(t){if(1>t)return!1;if(6e4>t)return"несколько секунд";if(t>6e4&&18e5>t){var e=Math.round(t/6e4),n=e.toString(),i=(parseInt(n[length-1])," минут");return 2>e&&(e="",i=" минуту"),e>1&&5>e&&(i=" минуты"),e+i}return t>18e5&&36e5>t?"полчаса":t>36e5&&72e5>t?"час":t>72e5?108e5>t?Math.round(t/36e5)+" часа":Math.round(t/36e5)+" часов":void 0}function newTagline(){if(client.user&&origins.length>0){var t='<a href="javascript:getuser('+client.user.id+');void(0);">'+client.user.n+"</a>",e=origins[Math.floor(Math.random()*origins.length)].replace("username",t)+"<br />";localStorage.getItem("xss"),$("#console .userinfo").html(e);var n=new Date(1e3*client.user.t),i=n.toUTCString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1");1==client.channel.chid?(client.channel.pls.length<11?$("#console .userinfo").prepend('<div id="limits">Сейчас нет лимитов!</div>'):client.chat&&client.chat.u.length<11&&$("#console .userinfo").prepend('<div id="limits">Сейчас нет лимитов!</div>'),$("#console .userinfo").prepend('<div id="limits">Ты можешь залить '+i+"</div>")):$("#console .userinfo").prepend('<div id="limits">Здесь нет лимитов ;)</div>'),$("#limits").hover(function(){var t=verbalTime(Date.parse(client.user.nt)-Date.parse(new Date));$(this).append(t?"<span>Cледующее обновление через "+verbalTime(Date.parse(client.user.nt)-Date.parse(new Date))+"</span>":"<span>За последние 12 часов не было ни одного трека от тебя</span>")},function(){$(this).html("Ты можешь залить "+i)})}taglinetimer&&clearTimeout(taglinetimer),taglinetimer=setTimeout(newTagline,9e4)}function onChannel(t){setCurrent(t.current),setcurtime(!0),$.Storage.set("channel",client.channel.chid+" "),$("#console .info .chdata").html("<span>Слушают: </span>"+t.lst),$("#console .info .chdata").html("<span>Слушают: </span>"+t.lst+"<span> из них активно: </span>"+t.a),$("#console .streamcontrol .links").html('<a href="'+client.channel.hi+'" target="_blank">192kbps</a>');var e=$("#playlist .list");e.html("");for(var n in t.pls)addtrack(t.pls[n]);if(e.height()<$("#playlist .inner").height()?($("#playlist .list .advice").remove(),e.append('<li class="advice">Самое время нести!</li>')):$("#playlist .list .advice").remove(),updatetimes(),client.user&&$("#info .tabs .chat").trigger("click"),t.changed){var i=$.Storage.get("play");"true"==i&&(player.play(client.channel.hi),$.Storage.set("play","false"),$("#console .streamcontrol .play").click())}newTagline()}function processLogin(t){if(console.log("process login",t),t.user){var e=$.Storage.get("constitution");"read"!=e&&readConstitution(),newTagline(),$(".loginform").hide(400),$(".goin").hide(),$(".submit_box").show(400),$("#info .tabs .chat").show(),$("#info .tabs .profile").show(),$("#console .upfiles").show()}else t.error&&$(".loginform .alert").html(t.error);var n=$.Storage.get("channel");n?client.goChannel(parseInt(n),onChannel):client.goChannel(1,onChannel)}function goLogin(){if($(".loginform .alert").html(""),recovery){var t=$("#lgname").val();t.length>3?client.recover(t,function(t){$(".loginform .alert").html(t.ok?t.m:"no user"==t.e?"С таким почтовым ящиком ни кто не регистрировался (":t.e)}):$(".loginform .alert").html("Я не смогу восстановить пароль без адреса почтового ящика")}else{var e=$("#lgname").val(),n=$("#lgpass").val();e.length>0&&n.length>0&&(n=hex_md5(n),remember_name?($.Storage.set("username",e),$.Storage.set("password",n)):($.Storage.set("username",""),$.Storage.set("password","")),client.login(e,n,processLogin))}}function proc(t){return t/$(window).width()*100+"%"}function setCurrent(t){var e=$("#playlist .current").html(""),n=$('<div class="base"></div>').appendTo(e),i=t.src;i||(i="img/nocover.png");var a="";t.tg.length>0&&(a='<div class="tag">'+t.tg[0].n+"</div>"),t.tg.length>1&&(a+="...");var o=t.a+" - "+t.t+" @ Trigger";document.title=o,n.append('<table><tr><td class="cover"><div class="artwork"><img src="'+i+'"></div></td><td class="name"><span class="artist">'+t.a+'</span><span style="position: absolute; top: -50px;"> - </span><br><span class="title">'+t.t+'</span></td><td class="fastag"><div class="intag">'+a+'</div></td><td class="rating"><table><tr><td><div class="down but"></div></td><td><div class="curnum">'+t.r+'</div></td><td><div class="up but"></div></td></tr></table></td></tr></table>');var s=$(n).find(".rating .up"),r=$(n).find(".rating .down");$(s).click(function(e){l>0?(client.addvote({id:t.id,v:0}),l=0):(client.addvote({id:t.id,v:client.user.w}),l=1),e.stopPropagation()}),$(r).click(function(e){0>l?(client.addvote({id:t.id,v:0}),l=0):(client.addvote({id:t.id,v:-client.user.w}),l=-1),e.stopPropagation()});var c=t.i;t.p.length/client.channel.a>.8&&client.channel.a>9&&t.n.length<3?$("#playlist .current .artwork").css("border","2px solid #ffcd00"):$("#playlist .current .artwork").css("border","1px solid #aaa"),e.attr("trackid",t.id);var l=0;if(client.user){for(var d in t.p)if(t.p[d].vid==client.user.id){n.find(".rating div").css("color","#ffae00"),l=1;break}for(var d in t.n)if(t.n[d].vid==client.user.id){n.find(".rating div").css("color","red"),l=-1;break}}var u=0,h=$('<div class="full"></div>').appendTo(e);client.user&&((client.user.id==t.sid||1==client.user.id)&&(u+=1),(client.user.prch||client.user.opch)&&(client.user.prch==client.channel.chid||client.user.opch==client.channel.chid)&&(u+=1));var p=$('<table cellpadding="0" cellspacing="0" border="0"></table>').appendTo(h),m=$("<tbody></tbody>").appendTo(p),g=$("<tr></tr>").appendTo(m),f=$('<td class="l-col"></td>').appendTo(g),v=$('<td class="r-col"></td>').appendTo(g),y=$('<div class="tags"></div>').appendTo(v);if(t.tg.length>0)var b=$('<div class="tags_list"></div>').appendTo(y);var k=$('<div class="track_links"></div>').appendTo(y);if(""!=c){$('<div class="info">'+c+"</div>").appendTo(v)}var w=$('<div class="votebar"></div>').appendTo(v),_=$('<div class="voters"><ul class="nvotes"></ul><ul class="pvotes"></ul></div>').appendTo(w);v.append('<div class="sender">прнс <a href="javascript:getuser('+t.sid+');void(0);">'+t.s+"</a></div>"),""==c&&$(".sender").css("padding-top","0");for(var T in t.tg){var C=$('<div class="tag">'+t.tg[T].n+"</div>").appendTo(b);C.attr("tagid",t.tg[T].id)}if(u>0){var M=$('<div class="kill"><img width="18" height="18" src="/img/kill.png"></div>').appendTo(f);0==t.tg.length&&$(M).css("top","6px"),M.click(function(){client.killtrack(t.id)})}e.append('<div class="timer"><div class="cursor"></div></div>'),$('<span><a href="http://vk.com/audio?q='+encodeURIComponent(t.a)+" - "+encodeURIComponent(t.t)+'" target="_blank">>vk</a></span>').appendTo(k),$('<span><a href="http://muzebra.com/search/?q='+encodeURIComponent(t.a)+" - "+encodeURIComponent(t.t)+'" target="_blank">>muzebra</a></span>').appendTo(k),$('<span><a href="javascript:addTr('+t.id+');void(0);">>в чат</a></span>').appendTo(k),h.hide(),n.click(function(){$(".intag").css("display","block"),$("#playlist .item .full").hide(400),t=client.channel.current;var e=$(_).find(".pvotes").html(""),n=$(_).find(".nvotes").html("");for(var i in t.n)$('<li><a href="javascript:getuser('+t.n[i].vid+');void(0);">'+t.n[i].n+"</a></li>").appendTo(n);for(var i in t.p)$('<li><a href="javascript:getuser('+t.p[i].vid+');void(0);">'+t.p[i].n+"</a></li>").appendTo(e);$(this).hasClass("expanded")?($(this).find(".intag").css("display","block"),$(this).removeClass("expanded")):($(this).find(".intag").css("display","none"),$(this).addClass("expanded")),h.toggle({step:onresize})}),onresize()}function logout(){$("#info .content").hide(),$.Storage.remove("username"),$.Storage.remove("password"),$(".loginform").show(400),$(".submit_box").hide(400),$("#info .tabs .chat").hide(),$("#info .tabs .profile").hide(),$("#console .upfiles").hide(),$("#console .userinfo").hide(),showChannels(),client.logout(function(){})}function removetrack(t){$("#playlist .list .trackid"+t).hide("slow",function(){this.remove()})}function addtrack(t){var e=$('<li class="item"></li>').appendTo($("#playlist .list")),n=$('<div class="base"></div>').appendTo(e),i="";t.tg.length>0&&(i='<div class="tag">'+t.tg[0].n+"</div>"),t.tg.length>1&&(i+="..."),n.append('<table><tr><td class="cover"><div class="artwork"><img src="img/nocover.png"></div></td><td class="name"><div class="artist">'+t.a+'</div><div class="title">'+t.t+'</div></td><td class="fastag"><div class="intag">'+i+'</div></td><td class="time"></td><td class="rating"><div class="ratingdiv">'+t.r+"</div></td></tr></table>");var a=n.find(".artist"),o=n.find(".title");if(client.user&&(console.log(client.channel.prch),t.sid==client.user.id&&e.addClass("my"),t.sid==client.user.id||client.user.prch==client.channel.chid||client.user.opch==client.channel.chid)){var s=function(){(t.a!=a.text()||t.t!=o.text())&&a.text().length>0&&o.text().length>0&&(t.a=a.text(),t.t=o.text(),client.updateTrack(t))};a.attr("contentEditable",!0),o.attr("contentEditable",!0),a.blur(s),o.blur(s)}var r=($(n).children(".rating").children()[0],n.find(".ratingdiv"),t.i),c=$('<div class="full"></div>').appendTo(e);c.attr("id",t.id);var l=0;client.user&&((client.user.id==t.sid||1==client.user.id)&&(l+=1),(client.user.prch||client.user.opch)&&(client.user.prch==client.channel.chid||client.user.opch==client.channel.chid)&&(l+=1));var d=$('<table cellpadding="0" cellspacing="0" border="0"></table>').appendTo(c),u=$("<tbody></tbody>").appendTo(d),h=$("<tr></tr>").appendTo(u),p=$('<td class="l-col"></td>').appendTo(h),m=$('<td class="r-col"></td>').appendTo(h),g=$('<div class="votebar"></div>').appendTo(m),f=$('<div class="tags"></div>').appendTo(m);if(t.tg.length>0)var v=$('<div class="tags_list"></div>').appendTo(f);var y=$('<div class="track_links"></div>').appendTo(f);if(""!=r){$('<div class="info">'+r+"</div>").appendTo(m)}m.append('<div class="sender">прнс <a href="javascript:getuser('+t.sid+');void(0);">'+t.s+"</a></div>"),""==r&&$(".sender").css("padding-top","0");for(var b in t.tg){var k=$('<div class="tag">'+t.tg[b].n+"</div>").appendTo(v);k.attr("tagid",t.tg[b].id)}if(l>0){var w=$('<div class="kill"><img width="18" height="18" src="/img/kill.png"></div>').appendTo(p);0==t.tg.length&&$(w).css("top","6px"),w.click(function(){client.killtrack(t.id)})}$('<span><a href="http://vk.com/audio?q='+encodeURIComponent(t.a)+" - "+encodeURIComponent(t.t)+'" target="_blank">>vk</a></span>').appendTo(y),$('<span><a href="http://muzebra.com/search/?q='+encodeURIComponent(t.a)+" - "+encodeURIComponent(t.t)+'" target="_blank">>muzebra</a></span>').appendTo(y),$('<span><a href="javascript:addTr('+t.id+');void(0);">>в чат</a></span>').appendTo(y),c.hide(),e.attr("id",t.id),e.attr("rating",t.r),e.addClass("trackid"+t.id);var _=0;if(client.user){for(var T in t.p)if(t.p[T].vid==client.user.id){n.find(".rating div").css("color","#ffae00"),_=1;break}for(var T in t.n)if(t.n[T].vid==client.user.id){t.current?n.find(".rating div").css("color","red"):n.find(".rating div").css("color","#000000"),_=-1;break}}n.click(function(){$(".intag").css("display","block");var n=$("#playlist .current .base"),i=n.hasClass("expanded");if(i&&($("#playlist .current .base").removeClass("expanded"),$("#playlist .current .full").hide(400)),$("#playlist .item").each(function(){var t=$(this).children(".base"),n=$(this).children(".full");$(this).attr("id")!=e.attr("id")&&($(n).hide(400),$(t).removeClass("expanded"))}),$(this).hasClass("expanded")?($(this).find(".intag").css("display","block"),$(this).removeClass("expanded")):($(this).find(".intag").css("display","none"),$(this).addClass("expanded")),$(this).hasClass("expanded")&&client.user){$(g).html("");var a=$('<div class="down but"></div>').appendTo(g),o=$('<div class="negative but"></div>').appendTo(g),s=($('<div class="numb">'+client.track(t.id).vote+"</div>").appendTo(g),$('<div class="positive but"></div>').appendTo(g)),r=$('<div class="up but"></div>').appendTo(g),l=$('<div class="voters"><ul class="nvotes"></ul><ul class="pvotes"></ul></div>').appendTo(g),d=$(l).find(".pvotes"),u=$(l).find(".nvotes");for(var h in client.channel.pls)if(client.channel.pls[h].id==t.id){t=client.channel.pls[h];break}for(var p in t.n)$('<li><a href="javascript:getuser('+t.n[p].vid+');void(0);">'+t.n[p].n+"</a></li>").appendTo(u);for(var p in t.p)$('<li><a href="javascript:getuser('+t.p[p].vid+');void(0);">'+t.p[p].n+"</a></li>").appendTo(d);$(r).click(function(){_>0?(client.addvote({id:t.id,v:0}),_=0):(client.addvote({id:t.id,v:client.user.w}),_=1)}),$(a).click(function(){0>_?(client.addvote({id:t.id,v:0}),_=0):(client.addvote({id:t.id,v:-client.user.w}),_=-1)}),$(s).click(function(){var e=client.track(t.id).vote+1;client.addvote({id:t.id,v:e})}),$(o).click(function(){var e=client.track(t.id).vote-1;client.addvote({id:t.id,v:e})})}c.toggle(i?{step:onresize}:400)}),n.hover(function(){$(this).addClass("tru"),updatetimes()},function(){$(this).removeClass("tru"),updatetimes()}),sortTracks()}function opentrack(t){var e=t.id,n=null;if(client.channel.current.id==e&&(n=$("#playlist .current"),n.css("background","#ffcd00"),n.animate({backgroundColor:"#333"},1e3)),$("#playlist .list .trackid"+e).length>0&&(n=$("#playlist .list .trackid"+e),n.addClass("hiligth"),setTimeout(function(t){t.removeClass("hiligth")},100,n),$(".inner").animate({scrollTop:n[0].offsetTop-n.children(".full").height()},1200)),n){var i=n.children(".base");$(i).hasClass("expanded")||i.trigger("click")}else t.tt&&showHistory(!1,new Date(Date.parse(t.tt)))}function updateTrack(t){var e=null;t.current?(e=$("#playlist .current"),t.p.length/client.channel.a>.8&&client.channel.a>9&&t.n.length<3?$("#playlist .current .artwork").css("border","2px solid #ffcd00"):$("#playlist .current .artwork").css("border","1px solid #aaa")):e=$("#playlist .list .trackid"+t.id),t.current?e.find(".rating .curnum").html(t.r):e.find(".rating").html("<div>"+t.r+"</div>"),e.find(".artist").html(t.a),e.find(".title").html(t.t),e.attr("rating",t.r),e.attr("vote",t.vote),e.find(".numb").html(t.vote);var n=e.find(".pvotes").html(""),i=e.find(".nvotes").html("");for(var a in t.n)$('<li><a href="javascript:getuser('+t.n[a].vid+');void(0);">'+t.n[a].n+"</a></li>").appendTo(i);for(var a in t.p)$('<li><a href="javascript:getuser('+t.p[a].vid+');void(0);">'+t.p[a].n+"</a></li>").appendTo(n);if(e.find(".rating div").css("color","#bbb"),client.user){for(var o in t.p)if(t.p[o].vid==client.user.id){t.current?e.find(".rating .curnum").css("color","#ffae00"):e.find(".rating div").css("color","#ffae00");break}for(var o in t.n)if(t.n[o].vid==client.user.id){t.current?e.find(".rating .curnum").css("color","red"):e.find(".rating div").css("color","#000000");break}}sortTracks()}function sf(t,e){var n=$(e).attr("rating")-$(t).attr("rating");return 0!=n?n:$(t).attr("id")-$(e).attr("id")}function sortTracks(){$("#playlist .item").sort(sf).appendTo("#playlist .list");var t=$("#playlist .list");client.user&&(t.height()<$("#playlist .inner").height()?($("#playlist .list .advice").remove(),t.append('<li class="advice">Самое время нести!</li>')):$("#playlist .list .advice").remove())}function setcurtime(t){t?$("#playlist .current .timer .cursor").css({width:client.channel.ct/client.channel.current.tt*$("#playlist .current .timer").width()}):$("#playlist .current .timer .cursor").animate({width:client.channel.ct/client.channel.current.tt*$("#playlist .current .timer").width()},500)}function updatetimes(){var t=client.channel.current.tt-client.channel.ct;for(var e in client.channel.pls){var n=$("#playlist .trackid"+client.channel.pls[e].id+" .base");$("#playlist .trackid"+client.channel.pls[e].id+" .time").html(n.hasClass("tru")?secToTime(client.channel.pls[e].tt):"+"+secToTime(t)),t+=client.channel.pls[e].tt}}function secToTime(t){var e=Math.floor(t/3600),n=Math.floor(t/60);e>0&&(n-=60*e);var i=10>n?"0"+n:n,a=Math.floor(t%60)<10?"0"+Math.floor(t%60):Math.floor(t%60);return e>0?e+":"+i+":"+a:i+":"+a}function readConstitution(){{var t=$('<div id="con"><div id="coninside"></div></div>').appendTo("#content");$.get("/constitution.html",function(e){e+='<div id="ender"></div>',$("#coninside").html(e),$("<button>Я все прочитал, впустите меня уже!</button>").appendTo("#ender").click(function(){$.Storage.set("constitution","read"),t.html("")})})}}function fillChat(){$("#chatmessages").children().length&&client.channel.chid==client.chat.id||client.getChat({},function(t){$("#chatmessages").html(""),fillUserlist(),chatlogupdate=!0;for(var e in t.m){var n=t.m[e];addMessage(n)}chatlogupdate=!1,$("#messageinput").autofocus(),$("#chatmessages").height()<$(".log").height()&&scrolltop()}),$("#chattink").attr("checked",tink),$("#chatshowimg").attr("checked",!noimg)}function playTink(){sound.canPlayType("audio/ogg")?(sound.src="/sounds/tink.ogg",sound.play()):(sound.src="/sounds/tink.mp3",sound.play())}function scrolltop(){if($(this).scrollTop()<300&&!chatlogupdate){chatlogupdate=!0,console.log($(this).scrollTop());var t=Date(Date.parse(Date.now()));if(console.log("local ",t),messages.length){t=new Date(Date.parse(client.chat.m[0].t)+timezone);var e=this;client.getChat({shift:t},function(t){var n=$("#chatmessages").height();console.log(n),t.m.reverse();for(var i in t.m)client.chat.m.unshift(t.m[i]),addMessage(t.m[i]);n=$("#chatmessages").height()-n,$(e).scrollTop($(e).scrollTop()+n),chatlogupdate=!1})}}}function submitMessage(){var t=!1;$("#messageinput").val($("#messageinput").val().replace(/(\r\n|\n|\r)/gm,""));var e=$.trim($("#messageinput").val()).replace("↵","");e.replace("/tink","")!=e&&(t=!0,tink=!tink,settink()),e.replace("/noimg","")!=e&&(t=!0,noimg=!noimg,setnoimg()),t||client.sendMessage(e,function(t){t.error?$("#messageinput").attr("placeholder",t.error):$("#messageinput").attr("placeholder","начинай вводить...")}),$("#messageinput").val($("#messageinput").val().match(/^(\>{1,2}[a-zA-Z0-9_.]+ )+/g)||"")}function fillUserlist(){$("#info .users .topline").html("<span>Здесь:"+client.chat.u.length+"</span>"),$("#info .users .scroller").html(""),mutelist=[];for(var t in client.chat.u){var e=client.chat.u[t],n=$('<div class="userblock"><span class="info">i</span><a href="javascript:addNick(\''+e.n+"');void(0);\">"+e.n+"</a></div>").prependTo($("#info .scroller"));e.a&&n.addClass("active"),n.attr("userid",e.id),n.children("span.info").attr("userid",e.id),n.children("span.info").click(function(){getuser(parseInt($(this).attr("userid")))});var i=$.Storage.get("muteuser"+e.id);i&&(n.children("span.info").css("background-color","#cccccc"),mutelist.push(e.id))}}function refreshuser(t){$("#info .users .scroller .userblock").each(function(){$(this).attr("userid")==t.uid&&(t.a?$(this).addClass("active"):$(this).removeClass("active"))})}function addTr(t){var e=$("#messageinput").val();e.replace("/track"+t,"")==e&&$("#messageinput").val(e+"/track"+t+" ");var n=$("#messageinput").val().length;return $("#messageinput").selectRange(n,n),!1}function addNick(t){var e=$("#messageinput").val();$("#messageinput").val(e.replace(">"+t,"")==e?">"+t+" "+e:e.replace(">>"+t,"")==e?$("#messageinput").val().replace(">"+t,">>"+t):$("#messageinput").val().replace(">>"+t,">"+t));var n=$("#messageinput").val().length;return $("#messageinput").selectRange(n,n),!1}function addMessage(t){for(var e in mutelist)if(mutelist[e]==t.uid)return;var n=!1;if(t.uname=$.trim(t.uname),t.m){t.pm?client.user.n==t.pm?(n=!0,console.log("private message ",t),t.m='<b style="color:#8d8d8d">&gt;&gt;'+t.pm+t.m.replace("&gt;&gt;"+t.pm,"")+"</b>"):t.m='<div style="color:#8d8d8d">&gt;&gt;'+t.pm+t.m.replace("&gt;&gt;"+t.pm,"")+"</div>":t.m.replace("&gt;"+client.user.n,"")!=t.m&&(n=!0,t.m='<b class="pm">>'+client.user.n+t.m.replace("&gt;"+client.user.n,"")+"</b>");for(var e=0;e<customCodes.length&&!(t.m.replace(customCodes[e][0],"")!=t.m&&(t.m=t.m.replace(customCodes[e][0],customCodes[e][1]),2>e));e++);var i=!1,a=function(){t.m.replace("/me ","")!=t.m&&(i=!0,t.m=t.m.replace("/me","<span onclick=\"return addNick('"+t.uname+"')\" >"+t.uname+"</span>"),a())};a();var o="pm";if(t.pm||(o=""),i)var s=$('<div class="message '+t.uname+'"><table><tr><td class="sms"><div class="action">'+t.m+'</div></td><td class="mif"><div class="messageinfo"></div></td></tr></table></div>');else{var s=$('<div class="message '+t.uname+'"><table><tr><td class="names '+o+'"><span onclick="return addNick(\''+t.uname+"')\" >"+t.uname+': </span></td><td class="sms">'+t.m+'</td><td class="mif"><div class="messageinfo"></div></td></tr></table></div>');meta[0]=/\/track(\w*)/gim;var r=function(){var n=meta[e].exec(t.m);if(n){var i="";0==e&&(console.log("sending req"),client.track(parseInt(n[1]),function(t){i='<a href="#">'+t.a+" - "+t.t+"</a>";var e=$(s).find(".sms").html();e=e.replace(n[0],i),$(s).find(".sms").html(e);var a=$(s).find("a").attr("id",t.id);console.log("replace ok"),a.click(function(){console.log("opening",t),opentrack(t)})}))}};for(var e in meta)r()}var c=s.find(".messageinfo"),l=null;$(c).mouseenter(function(){l=setTimeout(function(){console.log(t.tid),client.track(t.tid,function(t){$(c).html('<a href="#">'+t.a+" - "+t.t+"</a>"),$(c).find("a").click(function(){opentrack(t)})})},200)}),$(c).mouseleave(function(){l&&clearTimeout(l),upadateMT(s)}),s.time=new Date(t.t).getTime(),messages.length?s.time>messages[0].time?(n&&tink&&playTink(),s.appendTo($("#chatmessages")),messages.push(s)):s.prependTo($("#chatmessages")):(s.appendTo($("#chatmessages")),messages.push(s)),noimg&&s.find("img").css("display","none").after('<span class="pc">картинка</span>'),now=(new Date).getTime(),upadateMT(s)}}function upadateMT(t){var e=now-t.time,n=$(t).find(".messageinfo");if(5e3>e&&n.html("только что"),e>5e3&&6e4>e&&n.html(Math.round((now-t.time)/1e3)+" секунд назад"),e>6e4&&18e5>e){var i=Math.round((now-t.time)/6e4),a=i.toString(),o=(parseInt(a[length-1])," минут назад");2>i&&(i="",o=" минуту назад"),i>1&&5>i&&(o=" минуты назад"),n.html(i+o)}e>18e5&&36e5>e&&n.html("полчаса назад"),e>36e5&&72e5>e&&n.html("час назад"),e>72e5&&n.html(108e5>e?Math.round((now-t.time)/36e5)+" часа назад":Math.round((now-t.time)/36e5)+" часов назад")}function getTextSelection(t){var e,n,i,a,o,s=0,r=0;return"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd?(s=t.selectionStart,r=t.selectionEnd,s==r&&(s=0)):(n=document.selection.createRange(),n&&n.parentElement()==t&&(a=t.value.length,e=t.value.replace(/\r\n/g,"\n"),i=t.createTextRange(),i.moveToBookmark(n.getBookmark()),o=t.createTextRange(),o.collapse(!1),i.compareEndPoints("StartToEnd",o)>-1?s=r=a:(s=-i.moveStart("character",-a),s+=e.slice(0,s).split("\n").length-1,i.compareEndPoints("EndToEnd",o)>-1?r=a:(r=-i.moveEnd("character",-a),r+=e.slice(0,r).split("\n").length-1)))),{start:s,end:r}}function fillchannelsdata(t){var e=function(t,e){if(t.lst){var n=e.lst-t.lst;return 0!=n?n:t.id-e.id}return t.id-e.id},n=function(t,e){t.html("");var i="";i=e.your?'<div class="greating">Ты как раз вовремя, '+client.user.n+'! <br>Твой кандидат - <a href="javascript:getuser('+e.your.id+');void(0);">'+e.your.name+"</a><br></div>":'<div class="greating">Ты как раз вовремя, '+client.user.n+"! <br>Исполни свой гражданский долг - введи в поле ниже id своего избранника.<br></div>",$(i).appendTo(t);var a=$('<input class="prid" type="text" placeholder="id кандидата">').appendTo(t),o=$('<div class="electionlist">Сейчас расстановка сил такая:</div>').appendTo(t);console.log(e);var s="";for(var r in e.candidates){var c=e.candidates[r];s+='<li><a class="candidate-name" href="javascript:getuser('+c.id+');void(0);">'+c.name+'</a> &mdash; <span class="descr">'+c.votes+"</span>"}$(s).appendTo(o),a.bind("keyup",function(i){if(13==i.keyCode){var o=$.trim(a.val()).replace("↵","");o.length&&client.sendPRVote({chid:e.id,prid:o},function(i){i.error||(i.id=e.id,n(t,i))})}})},i=function(t,e){$(t).html("");var n=t.attr("id"),a=!1;(client.user.prch||client.user.opch)&&(client.user.prch==n||client.user.opch==n)&&(a=!0);for(var o in e){var s=e[o],r='<li><a class="banned-name" href="javascript:getuser('+s.id+');void(0);">'+s.name+'</a> &mdash; <span class="descr">'+s.reason+"</span>";a&&(r+='<a href="javascript:void(0);" id="'+s.id+'" class="delete"></a>'),r+="</li>";var c=$(r).appendTo(t);$(c).children(".delete").click(function(t){var e=t.target.parentNode.parentNode;client.unbanuser(t.target.id,function(t){console.log(t),t.banned&&i($(e),t.banned)})})}},a=function(t,e){$(t).html("");{var n=!1;t.attr("id")}client.user.prch&&client.user.prch==s.id&&(n=!0);for(var i in e){var o=e[i],r='<li><a class="editor-name" href="javascript:getuser('+o.id+');void(0);">'+o.name+'</a> &mdash; <span class="descr">'+o.post+"</span>";n&&(r+='<a href="javascript:void(0);" class="delete" id="'+o.id+'"></a>'),r+="</li>";var c=$(r).appendTo(t);$(c).children(".delete").click(function(t){console.log(t);var e=t.target.parentNode.parentNode;console.log(e.id),client.removeop({id:t.target.id,chid:e.id},function(t){console.log(t),t.editors&&a($(e),t.editors)})})}};if($("#info .content.channels .list").html(""),$("#info .content.channels").show(),t.channels.length>0){t.channels[0].lst&&t.channels.sort(e);for(var o in t.channels){{var s=t.channels[o],r=$('<li class="channel"></li>').appendTo($("#info .content.channels .list")),c='<div class="base"></div>',l=$(c).appendTo(r),d=$('<div class="description">'+s.description+"</div>").appendTo(l);setTimeout(function(){storageinfo=$.Storage.get("channel"+s.id),storageinfo!=s.description&&(console.log("info changed"),$("#info .tab .channels a").html("Демократия (!)")),$("#info .content.channels").is(":visible")&&($.Storage.set("channel"+s.id,s.description),$("#info .tab .channels a").html("Демократия"))},3e3)}if(client.user&&client.user.prch&&client.user.prch==s.id){d.attr("contentEditable",!0);var u=$('<div class="htmleditor" contenteditable="true"></div>').appendTo(l);u.keyup(function(){d.html(u.text())}),d.keyup(function(){u.text(d.html())}),u.text(s.description);var h=u.text();d.blur(function(){if(u.text(d.html()),h!=u.text()){var t=u.text();client.setprops({description:t},function(t){console.log(t)}),h=u.text()}})}{$('<div class="users"><div class="usershead">Прямо сейчас эфир делают:</div></div>').appendTo(l)}for(var p in s.users){var m='<span><a href="javascript:getuser('+s.users[p].id+');void(0);">'+s.users[p].n+"</a> </span>";$(m).appendTo(l)}if(client.user){var g=$('<section class="full clearfix" />').appendTo(r);if(s.election){var f=$('<section class="electionblock" />').appendTo(g);s.election.id=s.id,n(f,s.election)}var v=$('<div class="l-col"/>').appendTo(g),y=$('<div class="r-col"/>').appendTo(g),b='<div class="prman"><header>Продюсер:</header>';b+='<a class="prman-crown" href="javascript:getuser('+s.prid+');void(0);">'+s.prname+"</a></div>",$(b).appendTo(v);var k=$('<div class="editors"/>').appendTo(v),w="<header>Редакционная коллегия:</header>";client.user&&client.user.prch&&client.user.prch==s.id&&(w+='<label><input class="id" type="text" placeholder="ID"><input class="editorpost" type="text" placeholder="Редактор">',w+='<button id="'+s.id+'">Ok</button></label>');var _=$(w).appendTo(k),T=$('<ul class="editors-list" id="'+s.id+'"></ul>').appendTo(k);if($(_).children("button").click(function(t){var e=$(t.target.parentNode).find("input.id").val(),n=$(t.target.parentNode).find("input.editorpost").val();client.setop({id:e,post:n,chid:t.target.id},function(e){e.editors&&a($(t.target.parentNode.parentNode).find(".editors-list"),e.editors)})}),s.editors&&a(T,s.editors),s.banned||client.user.prch==s.id||client.user.opch==s.id){var C=$('<div class="banned" />').appendTo(y);if($("<header>Жертвы репрессий:</header>").appendTo(C),!(client.user.prch!=s.id&&client.user.opch!=s.id||client.user.prch!=s.id&&client.user.opch!=s.id)){var M='<label><input class="id" type="text" placeholder="ID">';M+='<input type="text" class="reason" placeholder="Причина бана"><button>Ok</button></label></div>'}var x=$(M).appendTo(C),R=$('<ul class="banned-list" id="'+s.id+'"></ul>').appendTo(C);x.children("button").click(function(t){var e=$(t.target.parentNode).find("input.id").val(),n=$(t.target.parentNode).find("input.reason").val();client.banuser(e,n,function(e){e.banned&&i($(t.target.parentNode.parentNode).find(".banned-list"),e.banned)})}),s.banned.length&&i(R,s.banned)}}}if(!client.user){{var S=$('<li class="inviteblock"></li>').appendTo($("#info .content.channels .list"));$("<div class='greating'>Сегодня на триггере атракцион неслыханной щедрости. В экспериментальном режиме мы решили раздавать инвайты!<BR> Впиши в поле ниже свой адрес электронной почты и на нее придет инвайт, который позволит тебе стать полноценным тригганом!</div><br><input class='invitemail' type='text' placeholder='e-mail'><button>Ok</button><br><div class='error'></div>").appendTo(S)
}$(".inviteblock button").click(function(){console.log($(".inviteblock input").val()),client.sendextinvite({mail:$(".inviteblock input").val()},function(t){console.log(t),t.error?$(".inviteblock .error").html("Что-то пошло не так: "+t.error):$(S).html("<div class='greating'>Похоже у нас все получилось. Проверь свою почту, вероятно там есть что-то новенькое ;)</div>")})})}}}function showChannels(t){("none"==$("#info .content.channels").css("display")||t)&&($("#info .tabs .channels").trigger("click"),t?fillchannelsdata(t):client.getChannels(fillchannelsdata))}angular.module("trigger",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMaterial"]).filter("markdown",function(){return function(t){return"undefined"==typeof t?"":markdown.toHTML(String(t))}}),angular.module("trigger").controller("UploadsCtrl",["$scope",function(t){t.date=new Date,t.tracks=[{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"}]}]),angular.module("trigger").controller("UserCtrl",["$scope",function(t){t.date=new Date,t.user={name:"boocha",id:1155,img:"ear.png",karma:43,n:[{id:432,name:"Lol"},{id:422,name:"Lol2"},{id:442,name:"Lol3"}],p:[{id:432,name:"Lol"},{id:422,name:"Lol2"},{id:442,name:"Lol3"}],regdate:"28.12.2012",description:"Ну охуеть теперь",father:{id:333,name:"DiconFrost"},children:[{id:1240,name:"Morass"},{id:1241,name:"veterrrr"},{id:1242,name:"meloch"},{id:1243,name:"Agbtrgpktrkpen"},{id:1244,name:"ssk"}]}}]),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.io=t()}}(function(){var t;return function e(t,n,i){function a(s,r){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!r&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return a(n?n:e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e,n){function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=a(t),o=i.source,l=i.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(r("ignoring socket cache for %s",o),n=s(o,e)):(c[l]||(r("new io instance for %s",o),c[l]=s(o,e)),n=c[l]),n.socket(i.path)}var a=t("./url"),o=t("socket.io-parser"),s=t("./manager"),r=t("debug")("socket.io-client");e.exports=n=i;var c=n.managers={};n.protocol=o.protocol,n.connect=i,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(t,e){function n(t,e){return this instanceof n?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new n(t,e)}var i=(t("./url"),t("engine.io-client")),a=t("./socket"),o=t("component-emitter"),s=t("socket.io-parser"),r=t("./on"),c=t("component-bind"),l=(t("object-component"),t("debug")("socket.io-client:manager"));e.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},o(n.prototype),n.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},n.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this):this._reconnectionDelay},n.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this):this._reconnectionDelayMax},n.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},n.prototype.open=n.prototype.connect=function(t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening";var a=r(e,"open",function(){n.onopen(),t&&t()}),o=r(e,"error",function(e){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var i=new Error("Connection error");i.data=e,t(i)}n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;l("connect attempt will timeout after %d",s);var c=setTimeout(function(){l("connect attempt timed out after %d",s),a.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(a),this.subs.push(o),this},n.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(r(t,"data",c(this,"ondata"))),this.subs.push(r(this.decoder,"decoded",c(this,"ondecoded"))),this.subs.push(r(t,"error",c(this,"onerror"))),this.subs.push(r(t,"close",c(this,"onclose")))},n.prototype.ondata=function(t){this.decoder.add(t)},n.prototype.ondecoded=function(t){this.emit("packet",t)},n.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},n.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new a(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){n.connected++})}return e},n.prototype.destroy=function(){--this.connected||this.close()},n.prototype.packet=function(t){l("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},n.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},n.prototype.onclose=function(t){l("close"),this.cleanup(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting)return this;var t=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)l("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.attempts*this.reconnectionDelay();e=Math.min(e,this.reconnectionDelayMax()),l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){l("attempting reconnect"),t.emitAll("reconnect_attempt",t.attempts),t.emitAll("reconnecting",t.attempts),t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())})},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},n.prototype.onreconnect=function(){var t=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",t)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,"object-component":37,"socket.io-parser":40}],4:[function(t,e){function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=n},{}],5:[function(t,e,n){function i(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.subEvents()}{var a=t("socket.io-parser"),o=t("component-emitter"),s=t("to-array"),r=t("./on"),c=t("component-bind"),l=t("debug")("socket.io-client:socket"),d=t("has-binary");t("indexof")}e.exports=n=i;var u={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},h=o.prototype.emit;o(i.prototype),i.prototype.subEvents=function(){var t=this.io;this.subs=[r(t,"open",c(this,"onopen")),r(t,"packet",c(this,"onpacket")),r(t,"close",c(this,"onclose"))]},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},i.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},i.prototype.emit=function(t){if(u.hasOwnProperty(t))return h.apply(this,arguments),this;var e=s(arguments),n=a.EVENT;d(e)&&(n=a.BINARY_EVENT);var i={type:n,data:e};return"function"==typeof e[e.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},i.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},i.prototype.onopen=function(){l("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:a.CONNECT})},i.prototype.onclose=function(t){l("close (%s)",t),this.connected=!1,this.disconnected=!0,this.emit("disconnect",t)},i.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(t);break;case a.BINARY_EVENT:this.onevent(t);break;case a.ACK:this.onack(t);break;case a.BINARY_ACK:this.onack(t);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",t.data)}},i.prototype.onevent=function(t){var e=t.data||[];l("emitting event %j",e),null!=t.id&&(l("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},i.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);l("sending ack %j",i);var o=d(i)?a.BINARY_ACK:a.ACK;e.packet({type:o,id:t,data:i})}}},i.prototype.onack=function(t){l("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected?(l("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,indexof:36,"socket.io-parser":40,"to-array":44}],6:[function(t,e){(function(n){function i(t,e){var i=t,e=e||n.location;return null==t&&(t=e.protocol+"//"+e.hostname),"string"==typeof t&&("/"==t.charAt(0)&&"undefined"!=typeof e&&(t=e.hostname+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),i=a(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",i.id=i.protocol+"://"+i.host+":"+i.port,i.href=i.protocol+"://"+i.host+(e&&e.port==i.port?"":":"+i.port),i}var a=t("parseuri"),o=t("debug")("socket.io-client:url");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:9,parseuri:38}],7:[function(t,e){var n=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}},{}],8:[function(t,e){function n(t){return t?i(t):void 0}function i(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){i.off(t,n),e.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===e||i.fn===e){n.splice(a,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var i=0,a=n.length;a>i;++i)n[i].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],9:[function(t,e){function n(t){return n.enabled(t)?function(e){e=i(e);var a=new Date,o=a-(n[t]||a);n[t]=a,e=t+" "+e+" +"+n.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function i(t){return t instanceof Error?t.stack||t.message:t}e.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(e){}for(var i=(t||"").split(/[\s,]+/),a=i.length,o=0;a>o;o++)t=i[o].replace("*",".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){var e=1e3,n=6e4,i=60*n;return t>=i?(t/i).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,i=n.skips.length;i>e;e++)if(n.skips[e].test(t))return!1;for(var e=0,i=n.names.length;i>e;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(a){}},{}],10:[function(t,e){e.exports=t("./lib/")},{"./lib/":11}],11:[function(t,e){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(t,e){(function(n){function i(t,e){if(!(this instanceof i))return new i(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=d(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.host){var a=e.host.split(":");e.hostname=a.shift(),a.length&&(e.port=a.pop())}this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades}function a(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=t("./transports"),s=t("component-emitter"),r=t("debug")("engine.io-client:socket"),c=t("indexof"),l=t("engine.io-parser"),d=t("parseuri"),u=t("parsejson"),h=t("parseqs");e.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=l.protocol,i.Socket=i,i.Transport=t("./transport"),i.transports=t("./transports"),i.parser=t("engine.io-parser"),i.prototype.createTransport=function(t){r('creating transport "%s"',t);var e=a(this.query);e.EIO=l.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new o[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return n},i.prototype.open=function(){var t;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},i.prototype.setTransport=function(t){r("setting transport %s",t.name);var e=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},i.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var e=!this.supportsBinary&&h.transport.supportsBinary;u=u||e}u||(r('probe transport "%s" opened',t),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(e){if(!u)if("pong"==e.type&&"probe"==e.data)r('probe transport "%s" pong',t),h.upgrading=!0,h.emit("upgrading",d),i.priorWebsocketSuccess="websocket"==d.name,r('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){u||"closed"!=h.readyState&&"closing"!=h.readyState&&(r("changing transport and sending upgrade packet"),l(),h.setTransport(d),d.send([{type:"upgrade"}]),h.emit("upgrade",d),d=null,h.upgrading=!1,h.flush())});else{r('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=d.name,h.emit("upgradeError",n)}}))}function n(){u||(u=!0,l(),d.close(),d=null)}function a(e){var i=new Error("probe error: "+e);i.transport=d.name,n(),r('probe transport "%s" failed because of error: %s',t,e),h.emit("upgradeError",i)}function o(){a("transport closed")}function s(){a("socket closed")}function c(t){d&&t.name!=d.name&&(r('"%s" works - aborting "%s"',t.name,d.name),n())}function l(){d.removeListener("open",e),d.removeListener("error",a),d.removeListener("close",o),h.removeListener("close",s),h.removeListener("upgrading",c)}r('probing transport "%s"',t);var d=this.createTransport(t,{probe:1}),u=!1,h=this;i.priorWebsocketSuccess=!1,d.once("open",e),d.once("error",a),d.once("close",o),this.once("close",s),this.once("upgrading",c),d.open()},i.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},i.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(r('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(u(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else r('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},i.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){r("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},i.prototype.ping=function(){this.sendPacket("ping")},i.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},i.prototype.sendPacket=function(t,e,n){var i={type:t,data:e};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(n),this.flush()},i.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.onClose("forced close"),r("socket closing - telling transport to close"),this.transport.close()),this},i.prototype.onError=function(t){r("socket error %j",t),i.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},i.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState){r('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},i.prototype.filterUpgrades=function(t){for(var e=[],n=0,i=t.length;i>n;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(t,e){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR}var i=t("engine.io-parser"),a=t("component-emitter");e.exports=n,a(n.prototype),n.timestamps=0,n.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},n.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":21}],14:[function(t,e,n){(function(e){function i(t){var n,i=!1,r=!1,c=!1!==t.jsonp;if(e.location){var l="https:"==location.protocol,d=location.port;d||(d=l?443:80),i=t.hostname!=location.hostname||d!=t.port,r=t.secure!=l}if(t.xdomain=i,t.xscheme=r,n=new a(t),"open"in n&&!t.forceJSONP)return new o(t);if(!c)throw new Error("JSONP disabled");return new s(t)}var a=t("xmlhttprequest"),o=t("./polling-xhr"),s=t("./polling-jsonp"),r=t("./websocket");n.polling=i,n.websocket=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(t,e){(function(n){function i(){}function a(t){o.call(this,t),this.query=this.query||{},r||(n.___eio||(n.___eio=[]),r=n.___eio),this.index=r.length;var e=this;r.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=i)})}var o=t("./polling"),s=t("component-inherit");e.exports=a;var r,c=/\n/g,l=/\\n/g;s(a,o),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),o.prototype.doClose.call(this)},a.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},a.prototype.doWrite=function(t,e){function n(){i(),e()}function i(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(t){a.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+a.iframeId+'">';o=document.createElement(e)}catch(t){o=document.createElement("iframe"),o.name=a.iframeId,o.src="javascript:0"}o.id=a.iframeId,a.form.appendChild(o),a.iframe=o}var a=this;if(!this.form){var o,s=document.createElement("form"),r=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=d,s.method="POST",s.setAttribute("accept-charset","utf-8"),r.name="d",s.appendChild(r),document.body.appendChild(s),this.form=s,this.area=r}this.form.action=this.uri(),i(),t=t.replace(l,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==a.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(t,e){(function(n){function i(){}function a(t){if(c.call(this,t),n.location){var e="https:"==location.protocol,i=location.port;i||(i=e?443:80),this.xd=t.hostname!=n.location.hostname||i!=t.port,this.xs=t.secure!=e}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.create()}function s(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var r=t("xmlhttprequest"),c=t("./polling"),l=t("component-emitter"),d=t("component-inherit"),u=t("debug")("engine.io-client:polling-xhr");e.exports=a,e.exports.Request=o,d(a,c),a.prototype.supportsBinary=!0,a.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,new o(t)},a.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,i=this.request({method:"POST",data:t,isBinary:n}),a=this;i.on("success",e),i.on("error",function(t){a.onError("xhr post error",t)}),this.sendXhr=i},a.prototype.doPoll=function(){u("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},l(o.prototype),o.prototype.create=function(){var t=this.xhr=new r({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),e=this;
try{if(u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async),this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){e.onLoad()},t.onerror=function(){e.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?e.onLoad():setTimeout(function(){e.onError(t.status)},0))},u("xhr data %s",this.data),t.send(this.data)}catch(i){return void setTimeout(function(){e.onError(i)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup()},o.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i;try{this.xhr.abort()}catch(t){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(n){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},n.document&&(o.requestsCount=0,o.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(t,e){function n(t){var e=t&&t.forceBase64;(!c||e)&&(this.supportsBinary=!1),i.call(this,t)}var i=t("../transport"),a=t("parseqs"),o=t("engine.io-parser"),s=t("component-inherit"),r=t("debug")("engine.io-client:polling");e.exports=n;var c=function(){var e=t("xmlhttprequest"),n=new e({agent:this.agent,xdomain:!1});return null!=n.responseType}();s(n,i),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){r("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(r("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){r("pre-pause polling complete"),--i||e()})),this.writable||(r("we are currently writing - waiting to pause"),i++,this.once("drain",function(){r("pre-pause writing complete"),--i||e()}))}else e()},n.prototype.poll=function(){r("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;r("polling got data %s",t);var n=function(t){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};o.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():r('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){r("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(r("transport open - closing"),t()):(r("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;o.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+i.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=a.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(t,e){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),i.call(this,t)}var i=t("../transport"),a=t("engine.io-parser"),o=t("parseqs"),s=t("component-inherit"),r=t("debug")("engine.io-client:websocket"),c=t("ws");e.exports=n,s(n,i),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,n={agent:this.agent};this.ws=new c(t,e,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(t){var e=this;setTimeout(function(){i.prototype.onData.call(e,t)},0)}),n.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var i=0,o=t.length;o>i;i++)a.encodePacket(t[i],this.supportsBinary,function(t){try{n.ws.send(t)}catch(e){r("websocket closed before onclose event")}});setTimeout(e,0)},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=o.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},n.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===n.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(t,e){var n=t("has-cors");e.exports=function(t){var e=t.xdomain,i=t.xscheme,a=t.enablesXDR;try{if("undefined"!=typeof XDomainRequest&&!i&&a)return new XDomainRequest}catch(o){}try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(o){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},{"has-cors":34}],20:[function(t,e){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],21:[function(t,e,n){(function(e){function i(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var a=t.data,o=new Uint8Array(a),s=new Uint8Array(1+a.byteLength);s[0]=p[t.type];for(var r=0;r<o.length;r++)s[r+1]=o[r];return i(s.buffer)}function a(t,e,i){if(!e)return n.encodeBase64Packet(t,i);var a=new FileReader;return a.onload=function(){t.data=a.result,n.encodePacket(t,e,!0,i)},a.readAsArrayBuffer(t.data)}function o(t,e,i){if(!e)return n.encodeBase64Packet(t,i);if(h)return a(t,e,i);var o=new Uint8Array(1);o[0]=p[t.type];var s=new f([o.buffer,t.data]);return i(s)}function s(t,e,n){for(var i=new Array(t.length),a=d(t.length,n),o=function(t,n,a){e(n,function(e,n){i[t]=n,a(e,i)})},s=0;s<t.length;s++)o(s,t[s],a)}var r=t("./keys"),c=t("arraybuffer.slice"),l=t("base64-arraybuffer"),d=t("after"),u=t("utf8"),h=navigator.userAgent.match(/Android/i);n.protocol=3;var p=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},m=r(p),g={type:"error",data:"parser error"},f=t("blob");n.encodePacket=function(t,n,a,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof a&&(s=a,a=null);var r=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&r instanceof ArrayBuffer)return i(t,n,s);if(f&&r instanceof e.Blob)return o(t,n,s);var c=p[t.type];return void 0!==t.data&&(c+=a?u.encode(String(t.data)):String(t.data)),s(""+c)},n.encodeBase64Packet=function(t,i){var a="b"+n.packets[t.type];if(f&&t.data instanceof f){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];i(a+t)},o.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(r){for(var c=new Uint8Array(t.data),l=new Array(c.length),d=0;d<c.length;d++)l[d]=c[d];s=String.fromCharCode.apply(null,l)}return a+=e.btoa(s),i(a)},n.decodePacket=function(t,e,i){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(i)try{t=u.decode(t)}catch(a){return g}var o=t.charAt(0);return Number(o)==o&&m[o]?t.length>1?{type:m[o],data:t.substring(1)}:{type:m[o]}:g}var s=new Uint8Array(t),o=s[0],r=c(t,1);return f&&"blob"===e&&(r=new f([r])),{type:m[o],data:r}},n.decodeBase64Packet=function(t,n){var i=m[t.charAt(0)];if(!e.ArrayBuffer)return{type:i,data:{base64:!0,data:t.substr(1)}};var a=l.decode(t.substr(1));return"blob"===n&&f&&(a=new f([a])),{type:i,data:a}},n.encodePayload=function(t,e,i){function a(t){return t.length+":"+t}function o(t,i){n.encodePacket(t,e,!0,function(t){i(null,a(t))})}return"function"==typeof e&&(i=e,e=null),e?f&&!h?n.encodePayloadAsBlob(t,i):n.encodePayloadAsArrayBuffer(t,i):t.length?void s(t,o,function(t,e){return i(e.join(""))}):i("0:")},n.decodePayload=function(t,e,i){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,i);"function"==typeof e&&(i=e,e=null);var a;if(""==t)return i(g,0,1);for(var o,s,r="",c=0,l=t.length;l>c;c++){var d=t.charAt(c);if(":"!=d)r+=d;else{if(""==r||r!=(o=Number(r)))return i(g,0,1);if(s=t.substr(c+1,o),r!=s.length)return i(g,0,1);if(s.length){if(a=n.decodePacket(s,e,!0),g.type==a.type&&g.data==a.data)return i(g,0,1);var u=i(a,c+o,l);if(!1===u)return}c+=o,r=""}}return""!=r?i(g,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void s(t,i,function(t,n){var i=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),a=new Uint8Array(i),o=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var i=new Uint8Array(t.length),s=0;s<t.length;s++)i[s]=t.charCodeAt(s);n=i.buffer}a[o++]=e?0:1;for(var r=n.byteLength.toString(),s=0;s<r.length;s++)a[o++]=parseInt(r[s]);a[o++]=255;for(var i=new Uint8Array(n),s=0;s<i.length;s++)a[o++]=i[s]}),e(a.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function i(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var i=new Uint8Array(t.length),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);t=i.buffer,n[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,s=o.toString(),r=new Uint8Array(s.length+1),a=0;a<s.length;a++)r[a]=parseInt(s[a]);if(r[s.length]=255,f){var c=new f([n.buffer,r.buffer,t]);e(null,c)}})}s(t,i,function(t,n){return e(new f(n))})},n.decodePayloadAsBinary=function(t,e,i){"function"==typeof e&&(i=e,e=null);for(var a=t,o=[],s=!1;a.byteLength>0;){for(var r=new Uint8Array(a),l=0===r[0],d="",u=1;255!=r[u];u++){if(d.length>310){s=!0;break}d+=r[u]}if(s)return i(g,0,1);a=c(a,2+d.length),d=parseInt(d);var h=c(a,0,d);if(l)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(p){var m=new Uint8Array(h);h="";for(var u=0;u<m.length;u++)h+=String.fromCharCode(m[u])}o.push(h),a=c(a,d)}var f=o.length;o.forEach(function(t,a){i(n.decodePacket(t,e,!0),a,f)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(t,e){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var i in t)n.call(t,i)&&e.push(i);return e}},{}],23:[function(t,e){function n(t,e,n){function a(t,i){if(a.count<=0)throw new Error("after called too many times");--a.count,t?(o=!0,e(t),e=n):0!==a.count||o||e(null,i)}var o=!1;return n=n||i,a.count=t,0===t?e():a}function i(){}e.exports=n},{}],24:[function(t,e){e.exports=function(t,e,n){var i=t.byteLength;if(e=e||0,n=n||i,t.slice)return t.slice(e,n);if(0>e&&(e+=i),0>n&&(n+=i),n>i&&(n=i),e>=i||e>=n||0===i)return new ArrayBuffer(0);for(var a=new Uint8Array(t),o=new Uint8Array(n-e),s=e,r=0;n>s;s++,r++)o[r]=a[s];return o.buffer}},{}],25:[function(t,e,n){/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
!function(t){n.encode=function(e){var n,i=new Uint8Array(e),a=i.length,o="";for(n=0;a>n;n+=3)o+=t[i[n]>>2],o+=t[(3&i[n])<<4|i[n+1]>>4],o+=t[(15&i[n+1])<<2|i[n+2]>>6],o+=t[63&i[n+2]];return a%3===2?o=o.substring(0,o.length-1)+"=":a%3===1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var n,i,a,o,s,r=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);var d=new ArrayBuffer(r),u=new Uint8Array(d);for(n=0;c>n;n+=4)i=t.indexOf(e[n]),a=t.indexOf(e[n+1]),o=t.indexOf(e[n+2]),s=t.indexOf(e[n+3]),u[l++]=i<<2|a>>4,u[l++]=(15&a)<<4|o>>2,u[l++]=(3&o)<<6|63&s;return d}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(t,e){(function(t){function n(t,e){e=e||{};for(var n=new i,a=0;a<t.length;a++)n.append(t[a]);return e.type?n.getBlob(e.type):n.getBlob()}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,a=function(){try{var t=new Blob(["hi"]);return 2==t.size}catch(e){return!1}}(),o=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return a?t.Blob:o?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,n,i){(function(e){!function(a){function o(t){for(var e,n,i=[],a=0,o=t.length;o>a;)e=t.charCodeAt(a++),e>=55296&&56319>=e&&o>a?(n=t.charCodeAt(a++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),a--)):i.push(e);return i}function s(t){for(var e,n=t.length,i=-1,a="";++i<n;)e=t[i],e>65535&&(e-=65536,a+=b(e>>>10&1023|55296),e=56320|1023&e),a+=b(e);return a}function r(t,e){return b(t>>e&63|128)}function c(t){if(0==(4294967168&t))return b(t);var e="";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(e=b(t>>12&15|224),e+=r(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=r(t,12),e+=r(t,6)),e+=b(63&t|128)}function l(t){for(var e,n=o(t),i=n.length,a=-1,s="";++a<i;)e=n[a],s+=c(e);return s}function d(){if(y>=v)throw Error("Invalid byte index");var t=255&f[y];if(y++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function u(){var t,e,n,i,a;if(y>v)throw Error("Invalid byte index");if(y==v)return!1;if(t=255&f[y],y++,0==(128&t))return t;if(192==(224&t)){var e=d();if(a=(31&t)<<6|e,a>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=d(),n=d(),a=(15&t)<<12|e<<6|n,a>=2048)return a;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=d(),n=d(),i=d(),a=(15&t)<<18|e<<12|n<<6|i,a>=65536&&1114111>=a))return a;throw Error("Invalid UTF-8 detected")}function h(t){f=o(t),v=f.length,y=0;for(var e,n=[];(e=u())!==!1;)n.push(e);return s(n)}var p="object"==typeof i&&i,m="object"==typeof n&&n&&n.exports==p&&n,g="object"==typeof e&&e;(g.global===g||g.window===g)&&(a=g);var f,v,y,b=String.fromCharCode,k={version:"2.0.0",encode:l,decode:h};if("function"==typeof t&&"object"==typeof t.amd&&t.amd)t(function(){return k});else if(p&&!p.nodeType)if(m)m.exports=k;else{var w={},_=w.hasOwnProperty;for(var T in k)_.call(k,T)&&(p[T]=k[T])}else a.utf8=k}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e){(function(t){/**
 * JSON parse.
 *
 * @see Based on jQuery#parseJSON (MIT) and JSON2
 * @api private
 */
var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,r=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(r,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(i,"@").replace(a,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),i=0,a=n.length;a>i;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},{}],30:[function(t,e){/**
 * Parses an URI
 *
 * @author Steven Levithan <stevenlevithan.com> (MIT license)
 * @api private
 */
var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,a=t.indexOf("["),o=t.indexOf("]");-1!=a&&-1!=o&&(t=t.substring(0,a)+t.substring(a,o).replace(/:/g,";")+t.substring(o,t.length));for(var s=n.exec(t||""),r={},c=14;c--;)r[i[c]]=s[c]||"";return-1!=a&&-1!=o&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r}},{}],31:[function(t,e){function n(t,e){var n;return n=e?new a(t,e):new a(t)}var i=function(){return this}(),a=i.WebSocket||i.MozWebSocket;e.exports=a?n:null,a&&(n.prototype=a.prototype)},{}],32:[function(t,e){(function(n){function i(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(a(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var o in t)if(t.hasOwnProperty(o)&&e(t[o]))return!0}return!1}return e(t)}var a=t("isarray");e.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(t,e){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],34:[function(t,e){var n=t("global");try{e.exports="XMLHttpRequest"in n&&"withCredentials"in new n.XMLHttpRequest}catch(i){e.exports=!1}},{global:35}],35:[function(t,e){e.exports=function(){return this}()},{}],36:[function(t,e){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}},{}],37:[function(t,e,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],38:[function(t,e){/**
 * Parses an URI
 *
 * @author Steven Levithan <stevenlevithan.com> (MIT license)
 * @api private
 */
var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=n.exec(t||""),a={},o=14;o--;)a[i[o]]=e[o]||"";return a}},{}],39:[function(t,e,n){(function(e){var i=t("isarray"),a=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(a(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(i(t)){for(var s=new Array(t.length),r=0;r<t.length;r++)s[r]=e(t[r]);return s}if("object"==typeof t&&!(t instanceof Date)){var s={};for(var c in t)s[c]=e(t[c]);return s}return t}var n=[],o=t.data,s=t;return s.data=e(o),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var a=e[t.num];return a}if(i(t)){for(var o=0;o<t.length;o++)t[o]=n(t[o]);return t}if(t&&"object"==typeof t){for(var s in t)t[s]=n(t[s]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function o(t,c,l){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){s++;var d=new FileReader;d.onload=function(){l?l[c]=this.result:r=this.result,--s||n(r)},d.readAsArrayBuffer(t)}else if(i(t))for(var u=0;u<t.length;u++)o(t[u],u,t);else if(t&&"object"==typeof t&&!a(t))for(var h in t)o(t[h],h,t)}var s=0,r=t;o(r),s||n(r)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(t,e,n){function i(){}function a(t){var e="",i=!1;return e+=t.type,(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(i=!0,e+=t.nsp),null!=t.id&&(i&&(e+=",",i=!1),e+=t.id),null!=t.data&&(i&&(e+=","),e+=u.stringify(t.data)),d("encoded %j as %s",t,e),e}function o(t,e){function n(t){var n=p.deconstructPacket(t),i=a(n.packet),o=n.buffers;o.unshift(i),e(o)}p.removeBlobs(t,n)}function s(){this.reconstructor=null}function r(t){var e={},i=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return l();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(e.attachments="";"-"!=t.charAt(++i);)e.attachments+=t.charAt(i);e.attachments=Number(e.attachments)}if("/"==t.charAt(i+1))for(e.nsp="";++i;){var a=t.charAt(i);if(","==a)break;if(e.nsp+=a,i+1==t.length)break}else e.nsp="/";var o=t.charAt(i+1);if(""!=o&&Number(o)==o){for(e.id="";++i;){var a=t.charAt(i);if(null==a||Number(a)!=a){--i;break}if(e.id+=t.charAt(i),i+1==t.length)break}e.id=Number(e.id)}if(t.charAt(++i))try{e.data=u.parse(t.substr(i))}catch(s){return l()}return d("decoded %s as %j",t,e),e}function c(t){this.reconPack=t,this.buffers=[]}function l(){return{type:n.ERROR,data:"parser error"}}var d=t("debug")("socket.io-parser"),u=t("json3"),h=(t("isarray"),t("component-emitter")),p=t("./binary"),m=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=s,i.prototype.encode=function(t,e){if(d("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)o(t,e);else{var i=a(t);e([i])}},h(s.prototype),s.prototype.add=function(t){var e;if("string"==typeof t)e=r(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new c(e),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!m(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},c.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},c.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(t,e){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(t,e){e.exports=t(33)},{}],43:[function(e,n,i){!function(e){function n(t){if(n[t]!==s)return n[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=n("json-stringify")&&n("json-parse");else{var i,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var o=d.stringify,c="function"==typeof o&&u;if(c){(i=function(){return 1}).toJSON=i;try{c="0"===o(0)&&"0"===o(new Number)&&'""'==o(new String)&&o(r)===s&&o(s)===s&&o()===s&&"1"===o(i)&&"[1]"==o([i])&&"[null]"==o([s])&&"null"==o(null)&&"[null,null,null]"==o([s,r,null])&&o({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==a&&"1"===o(null,i)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new Date(-1))}catch(l){c=!1}}e=c}if("json-parse"==t){var h=d.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){i=h(a);var p=5==i.a.length&&1===i.a[0];if(p){try{p=!h('"	"')}catch(l){}if(p)try{p=1!==h("01")}catch(l){}if(p)try{p=1!==h("1.")}catch(l){}}}}catch(l){p=!1}e=p}}return n[t]=!!e}var a,o,s,r={}.toString,c="function"==typeof t&&t.amd,l="object"==typeof JSON&&JSON,d="object"==typeof i&&i&&!i.nodeType&&i;d&&l?(d.stringify=l.stringify,d.parse=l.parse):d=e.JSON=l||{};var u=new Date(-0xc782b5b800cec);try{u=-109252==u.getUTCFullYear()&&0===u.getUTCMonth()&&1===u.getUTCDate()&&10==u.getUTCHours()&&37==u.getUTCMinutes()&&6==u.getUTCSeconds()&&708==u.getUTCMilliseconds()}catch(h){}if(!n("json")){var p="[object Function]",m="[object Date]",g="[object Number]",f="[object String]",v="[object Array]",y="[object Boolean]",b=n("bug-string-char-index");if(!u)var k=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(t,e){return w[e]+365*(t-1970)+k((t-1969+(e=+(e>1)))/4)-k((t-1901+e)/100)+k((t-1601+e)/400)};(a={}.hasOwnProperty)||(a=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=r?a=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,a=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,a.call(this,t)});var T={"boolean":1,number:1,string:1,undefined:1},$=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!T[n]};if(o=function(t,e){var n,i,s,c=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)a.call(i,s)&&c++;return n=i=null,c?o=2==c?function(t,e){var n,i={},o=r.call(t)==p;for(n in t)o&&"prototype"==n||a.call(i,n)||!(i[n]=1)||!a.call(t,n)||e(n)}:function(t,e){var n,i,o=r.call(t)==p;for(n in t)o&&"prototype"==n||!a.call(t,n)||(i="constructor"===n)||e(n);(i||a.call(t,n="constructor"))&&e(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],o=function(t,e){var n,o,s=r.call(t)==p,c=!s&&"function"!=typeof t.constructor&&$(t,"hasOwnProperty")?t.hasOwnProperty:a;for(n in t)s&&"prototype"==n||!c.call(t,n)||e(n);for(o=i.length;n=i[--o];c.call(t,n)&&e(n));}),o(t,e)},!n("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M="000000",x=function(t,e){return(M+(e||0)).slice(-t)},R="\\u00",S=function(t){var e,n='"',i=0,a=t.length,o=a>10&&b;for(o&&(e=t.split(""));a>i;i++){var s=t.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=C[s];break;default:if(32>s){n+=R+x(2,s.toString(16));break}n+=o?e[i]:b?t.charAt(i):t[i]}}return n+'"'},Z=function(t,e,n,i,c,l,d){var u,h,p,b,w,T,$,C,M,R,A,B,D,E,P,V;try{u=e[t]}catch(j){}if("object"==typeof u&&u)if(h=r.call(u),h!=m||a.call(u,"toJSON"))"function"==typeof u.toJSON&&(h!=g&&h!=f&&h!=v||a.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&1/0>u){if(_){for(w=k(u/864e5),p=k(w/365.2425)+1970-1;_(p+1,0)<=w;p++);for(b=k((w-_(p,0))/30.42);_(p,b+1)<=w;b++);w=1+w-_(p,b),T=(u%864e5+864e5)%864e5,$=k(T/36e5)%24,C=k(T/6e4)%60,M=k(T/1e3)%60,R=T%1e3}else p=u.getUTCFullYear(),b=u.getUTCMonth(),w=u.getUTCDate(),$=u.getUTCHours(),C=u.getUTCMinutes(),M=u.getUTCSeconds(),R=u.getUTCMilliseconds();u=(0>=p||p>=1e4?(0>p?"-":"+")+x(6,0>p?-p:p):x(4,p))+"-"+x(2,b+1)+"-"+x(2,w)+"T"+x(2,$)+":"+x(2,C)+":"+x(2,M)+"."+x(3,R)+"Z"}else u=null;if(n&&(u=n.call(e,t,u)),null===u)return"null";if(h=r.call(u),h==y)return""+u;if(h==g)return u>-1/0&&1/0>u?""+u:"null";if(h==f)return S(""+u);if("object"==typeof u){for(E=d.length;E--;)if(d[E]===u)throw TypeError();if(d.push(u),A=[],P=l,l+=c,h==v){for(D=0,E=u.length;E>D;D++)B=Z(D,u,n,i,c,l,d),A.push(B===s?"null":B);V=A.length?c?"[\n"+l+A.join(",\n"+l)+"\n"+P+"]":"["+A.join(",")+"]":"[]"}else o(i||u,function(t){var e=Z(t,u,n,i,c,l,d);e!==s&&A.push(S(t)+":"+(c?" ":"")+e)}),V=A.length?c?"{\n"+l+A.join(",\n"+l)+"\n"+P+"}":"{"+A.join(",")+"}":"{}";return d.pop(),V}};d.stringify=function(t,e,n){var i,a,o,s;if("function"==typeof e||"object"==typeof e&&e)if((s=r.call(e))==p)a=e;else if(s==v){o={};for(var c,l=0,d=e.length;d>l;c=e[l++],s=r.call(c),(s==f||s==g)&&(o[c]=1));}if(n)if((s=r.call(n))==g){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else s==f&&(i=n.length<=10?n:n.slice(0,10));return Z("",(c={},c[""]=t,c),a,o,i,"",[])}}if(!n("json-parse")){var A,B,D=String.fromCharCode,E={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw A=B=null,SyntaxError()},V=function(){for(var t,e,n,i,a,o=B,s=o.length;s>A;)switch(a=o.charCodeAt(A)){case 9:case 10:case 13:case 32:A++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(A):o[A],A++,t;case 34:for(t="@",A++;s>A;)if(a=o.charCodeAt(A),32>a)P();else if(92==a)switch(a=o.charCodeAt(++A)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=E[a],A++;break;case 117:for(e=++A,n=A+4;n>A;A++)a=o.charCodeAt(A),a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a||P();t+=D("0x"+o.slice(e,A));break;default:P()}else{if(34==a)break;for(a=o.charCodeAt(A),e=A;a>=32&&92!=a&&34!=a;)a=o.charCodeAt(++A);t+=o.slice(e,A)}if(34==o.charCodeAt(A))return A++,t;P();default:if(e=A,45==a&&(i=!0,a=o.charCodeAt(++A)),a>=48&&57>=a){for(48==a&&(a=o.charCodeAt(A+1),a>=48&&57>=a)&&P(),i=!1;s>A&&(a=o.charCodeAt(A),a>=48&&57>=a);A++);if(46==o.charCodeAt(A)){for(n=++A;s>n&&(a=o.charCodeAt(n),a>=48&&57>=a);n++);n==A&&P(),A=n}if(a=o.charCodeAt(A),101==a||69==a){for(a=o.charCodeAt(++A),(43==a||45==a)&&A++,n=A;s>n&&(a=o.charCodeAt(n),a>=48&&57>=a);n++);n==A&&P(),A=n}return+o.slice(e,A)}if(i&&P(),"true"==o.slice(A,A+4))return A+=4,!0;if("false"==o.slice(A,A+5))return A+=5,!1;if("null"==o.slice(A,A+4))return A+=4,null;P()}return"$"},j=function(t){var e,n;if("$"==t&&P(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=V(),"]"!=t;n||(n=!0))n&&(","==t?(t=V(),"]"==t&&P()):P()),","==t&&P(),e.push(j(t));return e}if("{"==t){for(e={};t=V(),"}"!=t;n||(n=!0))n&&(","==t?(t=V(),"}"==t&&P()):P()),(","==t||"string"!=typeof t||"@"!=(b?t.charAt(0):t[0])||":"!=V())&&P(),e[t.slice(1)]=j(V());return e}P()}return t},U=function(t,e,n){var i=I(t,e,n);i===s?delete t[e]:t[e]=i},I=function(t,e,n){var i,a=t[e];if("object"==typeof a&&a)if(r.call(a)==v)for(i=a.length;i--;)U(a,i,n);else o(a,function(t){U(a,t,n)});return n.call(t,e,a)};d.parse=function(t,e){var n,i;return A=0,B=""+t,n=j(V()),"$"!=V()&&P(),A=B=null,e&&r.call(e)==p?I((i={},i[""]=n,i),"",e):n}}}c&&t(function(){return d})}(this)},{}],44:[function(t,e){function n(t,e){var n=[];e=e||0;for(var i=e||0;i<t.length;i++)n[i-e]=t[i];return n}e.exports=n},{}]},{},[1])(1)}),Player=function(){return forcehtml5=!0,this.playing=!1,this.vol=.5,swfobject.getFlashPlayerVersion().major<10||forcehtml5?(this.mode="html5",this.sound=new Audio):(this.flname="radio",this.mode="flash",console.log("flash enabled"),swfobject.embedSWF("/js/radio.swf","radio","0","0","11.0.0")),console.log(this.mode),this},Player.prototype={constructor:Player,play:function(t){if("flash"==this.mode){var e=this;getflashinstance(this.flname)?this.playing&&this.path==t||(getflashinstance(this.flname).play(t),e.volume(e.vol),this.playing=!0):setTimeout(function(){e.play(e.path),e.volume(e.vol)},400)}else this.sound.src=t,this.sound.loop="loop",this.sound.play(),this.playing=!0;this.path=t},stop:function(){"flash"==this.mode?getflashinstance(this.flname).stop():(this.sound.pause(),this.sound.src=""),this.playing=!1},volume:function(t){if(!t)return this.vol;if(this.vol=t,"flash"==this.mode){var e=this;if(getflashinstance(this.flname))try{getflashinstance(this.flname).volume(t)}catch(n){}else setTimeout(function(){e.volume(e.vol)},400)}else this.sound.volume=t}},window.addEventListener?window.addEventListener("storage",handle_storage,!1):window.attachEvent("onstorage",handle_storage);var streampath=location.protocol+"//"+location.host+"/stream/",socketpath="http://trigger.fm:40033",streampath="http://trigger.fm/stream/",streampath=location.protocol+"//"+location.host+":8000/",lastfm=null;Client.prototype.init=function(){this.socket=io();var t=this.socket,e=this;t.on("welcome",function(t){$(e).trigger("welcome",t)}),t.on("getver",function(){t.emit("ver",{v:e.version,init:!0})}),t.on("addtrack",function(t){t.track.src="img/nocover.png";var n=t.track;if(n.vote=0,e.user){for(var i in n.n)if(n.n[i].vid==e.user.id){n.vote=n.n[i].v;break}for(var i in n.p)if(n.p[i].vid==e.user.id){n.vote=n.p[i].v;break}}e.channel.pls.push(n),e.channel.pls.sort(sortFunction),$(e).trigger("addtrack",t),getcover(n.a,n.t,function(i){n.src=i,$(e).trigger("cover",{id:t.track.id,src:i})})}),t.on("removetrack",function(t){for(var n in e.channel.pls)if(e.channel.pls[n].id==t.tid){t.track=e.channel.pls[n],$(e).trigger("removetrack",t),e.channel.pls.splice(n,1);break}}),t.on("newcurrent",function(t){if(t.chid==e.channel.chid){for(var n in e.channel.pls)if(e.channel.pls[n].id==t.track.id){t.track.src=e.channel.pls[n].src,t.track.vote=e.channel.pls[n].vote,e.channel.pls.splice(n,1);break}e.channel.current=t.track,e.channel.ct=0}$(e).trigger("newcurrent",t),$(e).trigger("removetrack",t)}),t.on("lst",function(t){for(var n in e.channels)t.chid==e.channels[n].id&&(e.channels[n].lst=t.l);t.chid==e.channel.chid&&(e.channel.lst=t.l,e.channel.a=t.a),$(e).trigger("listners",t)}),t.on("channeldata",function(t){var n=0,i=function(){var t=e.channel.pls[n];getcover(t.a,t.t,function(a){t.src=a,$(e).trigger("cover",{id:t.id,src:a}),n+=1,n<e.channel.pls.length&&i()})};t.changed=!0,t.hi=streampath+t.hi,t.low=streampath+t.low,e.channel=t;var a=e.channel.current;if(a&&(a.vote=0,e.user)){for(var o in a.n)if(a.n[o].vid==e.user.id){a.vote=a.n[o].v;break}for(var o in a.p)if(a.p[o].vid==e.user.id){a.vote=a.p[o].v;break}}for(var s in e.channel.pls){var a=e.channel.pls[s];if(a&&(a.vote=0,e.user)){for(var o in a.n)if(a.n[o].vid==e.user.id){a.vote=a.n[o].v;break}for(var o in a.p)if(a.p[o].vid==e.user.id){a.vote=a.p[o].v;break}}}getcover(t.current.a,t.current.t,function(n){t.current.src=n,$(e).trigger("cover",{id:t.current.id,src:n})}),e.callbacks.channeldata(e.channel),e.channel.pls.length>0&&i()}),t.on("message",function(t){e.chat.m.push(t),$(e).trigger("message",t)}),t.on("history",function(t){e.callbacks.history(t)}),t.on("channelsdata",function(t){e.channels=t.channels,e.callbacks.channelsdata(t)}),t.on("userdata",function(t){console.log(t),e.callbacks.userdata(t)}),t.on("uvd",function(t){e.callbacks.uvotedata(t)}),t.on("invitestatus",function(t){e.callbacks.invitestatus(t)}),t.on("logoutok",function(t){e.callbacks.logoutstatus(t)}),t.on("recoverstatus",function(t){e.callbacks.recover(t)}),t.on("changepass",function(t){e.callbacks.changepass(t)}),t.on("banned",function(t){$(e).trigger("banned",t)}),t.on("newuser",function(t){if(e.chat){var n={id:t.uid,n:t.n,a:t.a};e.chat.u.push(n),$(e).trigger("newuser",t)}}),t.on("offuser",function(t){if(e.chat){for(var n in e.chat.u)e.chat.u[n].id==t.uid&&e.chat.u.splice(n,1);$(e).trigger("offuser",t)}}),t.on("playlist",function(t){e.callbacks.playlist(t)}),t.on("loginstatus",function(t){if(t.error){"nouser"==t.error&&(t.error="Нет такого пользователя"),"wrongpass"==t.error&&(t.error="Не тот пароль")}else e.user=t.user,e.user.t<0&&(e.user.t=0),e.user.nt=new Date(Date.parse(new Date)+e.user.nt);e.callbacks.loginstatus(t)}),t.on("disconnect",function(){$(e).trigger("disconnect"),e.user=null,e.channel={},e.callbacks={},e.chat=null}),t.on("uptr",function(t){if(t.t.id==e.channel.current.id){var n=e.channel.current.src;e.channel.current=t.t,e.channel.current.scr=n;var i=e.channel.current;i.vote=0;for(var a in i.n)if(i.n[a].vid==e.user.id){i.vote=i.n[a].v;break}for(var a in i.p)if(i.p[a].vid==e.user.id){i.vote=i.p[a].v;break}t.current=!0}else for(var o in e.channel.pls)if(e.channel.pls[o].id==t.t.id){e.channel.pls[o]=t.t;var i=e.channel.pls[o];i.vote=0;for(var a in i.n)if(i.n[a].vid==e.user.id){i.vote=i.n[a].v;break}for(var a in i.p)if(i.p[a].vid==e.user.id){i.vote=i.p[a].v;break}e.channel.pls.sort(sortFunction),t.current=!1;break}$(e).trigger("trackupdate",t)})},Client.prototype.login=function(t,e,n){var i=this;i.callbacks.loginstatus=n,this.socket.emit("login",{u:t,p:e})},Client.prototype.track=function(t,e){var n=this;if(t==n.channel.current.id){if(!e)return n.channel.current;e(n.channel.current)}for(var i in n.channel.pls)if(n.channel.pls[i].id==t){if(!e)return n.channel.pls[i];e(n.channel.pls[i])}this.socket.emit("gettrack",{id:t},function(t){e(t)})},Client.prototype.getPlaylist=function(t,e){cl=this,cl.callbacks.playlist=e,this.socket.emit("getplaylist",{id:t})},Client.prototype.goChannel=function(t,e){var n=this;n.callbacks.channeldata=e,this.socket.emit("gochannel",{id:t})},Client.prototype.getChannels=function(t){var e=this;e.callbacks.channelsdata=t,this.socket.emit("getchannels")},Client.prototype.getChat=function(t,e){var n=this;this.socket.emit("getchat",{shift:t.shift,id:this.channel.chid},function(t){t.u&&(n.chat=t,n.chat.id=n.channel.chid),e(t)})},Client.prototype.sendMessage=function(t,e){var n={m:t};this.socket.emit("sendmessage",n,e)},Client.prototype.tracksubmit=function(t,e){var n=t.form;this.socket.emit("tracksubmit",{chid:this.channel.chid,track:t.track},function(t){t.form=n,console.log("data.form: ",t.form),e(t)})},Client.prototype.addvote=function(t){this.user&&(t.chid=this.channel.chid,this.socket.emit("vote",t))},Client.prototype.adduservote=function(t,e){this.user&&(this.callbacks.uvotedata=e,this.socket.emit("uvote",t))},Client.prototype.getUser=function(t,e){this.socket.emit("getuser",t,e)},Client.prototype.getHistory=function(t,e,n){cl=this,cl.callbacks.history=n,this.socket.emit("gethistory",{chid:cl.channel.chid,s:t,g:e})},Client.prototype.getTags=function(t,e){cl=this,cl.callbacks.tags=e,this.socket.emit("gettags",{s:t})},Client.prototype.getTrackTags=function(t,e,n){cl=this,cl.callbacks.tags=n,this.socket.emit("gettags",{a:t,t:e})},Client.prototype.addTag=function(t,e){cl=this,cl.callbacks.tags=e,this.socket.emit("addtag",{s:t})},Client.prototype.killtrack=function(t){cl=this,this.socket.emit("deltrack",{tid:t,chid:cl.channel.chid})},Client.prototype.sendinvite=function(t,e,n){cl=this,cl.callbacks.invitestatus=n,this.socket.emit("sendinvite",{m:t,c:e})},Client.prototype.logout=function(t){cl=this,cl.callbacks.logoutstatus=t,this.socket.emit("logout",{s:!0})},Client.prototype.recover=function(t,e){cl=this,cl.callbacks.recover=e,this.socket.emit("recover",{m:t})},Client.prototype.changepass=function(t,e,n){cl=this,cl.callbacks.changepass=n,this.socket.emit("changepass",{o:t,n:e})},Client.prototype.updateUserData=function(t){this.socket.emit("upduserdata",t)},Client.prototype.getchannel=function(t){for(var e in this.channels)if(this.channels[e].id==t)return this.channels[e];return!1},Client.prototype.banuser=function(t,e,n){this.socket.emit("banuser",{id:t,r:e},n)},Client.prototype.unbanuser=function(t,e){this.socket.emit("unbanuser",{id:t},e)},Client.prototype.setop=function(t,e){this.socket.emit("setop",t,e)},Client.prototype.removeop=function(t,e){this.socket.emit("removeop",t,e)},Client.prototype.setprops=function(t,e){this.socket.emit("setprops",t,e)},Client.prototype.getfu=function(t){this.socket.emit("getfastuser",{id:t},function(t){console.log(t)})};var lastfm=null;Client.prototype.init=function(){console.log("init"),this.socket=io("http://trigger.fm");var t=this.socket,e=this;lastfm=new LastFM({apiKey:"4366bdedfe39171be1b5581b52ddee90",apiSecret:"5def31e9198fa02af04873239bcb38f5"}),t.on("welcome",function(t){$(e).trigger("welcome",t)}),t.on("getver",function(){t.emit("ver",{v:e.version,init:!0})}),t.on("addtrack",function(t){t.track.src="img/nocover.png";var n=t.track;if(n.vote=0,e.user){for(var i in n.n)if(n.n[i].vid==e.user.id){n.vote=n.n[i].v;break}for(var i in n.p)if(n.p[i].vid==e.user.id){n.vote=n.p[i].v;break}}e.channel.pls.push(n),e.channel.pls.sort(sortFunction),$(e).trigger("addtrack",t),getcover(n.a,n.t,function(i){n.src=i,$(e).trigger("cover",{id:t.track.id,src:i})})}),t.on("removetrack",function(t){for(var n in e.channel.pls)if(e.channel.pls[n].id==t.tid){t.track=e.channel.pls[n],$(e).trigger("removetrack",t),e.channel.pls.splice(n,1);break}}),t.on("newcurrent",function(t){if(t.chid==e.channel.chid){for(var n in e.channel.pls)if(e.channel.pls[n].id==t.track.id){t.track.src=e.channel.pls[n].src,t.track.vote=e.channel.pls[n].vote,e.channel.pls.splice(n,1);break}e.channel.current=t.track,e.channel.ct=0}$(e).trigger("newcurrent",t),$(e).trigger("removetrack",t)}),t.on("lst",function(t){for(var n in e.channels)t.chid==e.channels[n].id&&(e.channels[n].lst=t.l);t.chid==e.channel.chid&&(e.channel.lst=t.l,e.channel.a=t.a),$(e).trigger("listners",t)}),t.on("usupd",function(t){if(e.chat){for(var n in e.chat.u)e.chat.u[n].id==t.uid&&(e.chat.u[n].a=t.a);$(e).trigger("userupdate",t)}}),t.on("uplim",function(t){t.nt>0?e.user.nt=new Date(Date.parse(new Date)+t.nt):e.user&&(e.user.nt=0),e.user.t=t.t,e.user.t<0&&(e.user.t=0),e.user.w=t.w,$(e).trigger("updatelimits",t)}),t.on("channeldata",function(t){var n=0,i=function(){var t=e.channel.pls[n];getcover(t.a,t.t,function(a){t.src=a,$(e).trigger("cover",{id:t.id,src:a}),n+=1,n<e.channel.pls.length&&i()})};t.changed=!0,t.hi=streampath+t.hi,t.low=streampath+t.low,e.channel=t;var a=e.channel.current;if(a&&(a.vote=0,e.user)){for(var o in a.n)if(a.n[o].vid==e.user.id){a.vote=a.n[o].v;break}for(var o in a.p)if(a.p[o].vid==e.user.id){a.vote=a.p[o].v;break}}for(var s in e.channel.pls){var a=e.channel.pls[s];if(a&&(a.vote=0,e.user)){for(var o in a.n)if(a.n[o].vid==e.user.id){a.vote=a.n[o].v;break}for(var o in a.p)if(a.p[o].vid==e.user.id){a.vote=a.p[o].v;break}}}getcover(t.current.a,t.current.t,function(n){t.current.src=n,$(e).trigger("cover",{id:t.current.id,src:n})}),e.callbacks.channeldata(e.channel),e.channel.pls.length>0&&i()}),t.on("message",function(t){e.chat.m.push(t),$(e).trigger("message",t)}),t.on("history",function(t){e.callbacks.history(t)}),t.on("channelsdata",function(t){e.channels=t.channels,e.callbacks.channelsdata(t)}),t.on("userdata",function(t){console.log(t),e.callbacks.userdata(t)}),t.on("uvd",function(t){e.callbacks.uvotedata(t)}),t.on("invitestatus",function(t){e.callbacks.invitestatus(t)}),t.on("recoverstatus",function(t){e.callbacks.recover(t)}),t.on("changepass",function(t){e.callbacks.changepass(t)}),t.on("banned",function(t){$(e).trigger("banned",t)}),t.on("newuser",function(t){if(e.chat){var n={id:t.uid,n:t.n,a:t.a};e.chat.u.push(n),$(e).trigger("newuser",t)}}),t.on("offuser",function(t){if(e.chat){for(var n in e.chat.u)e.chat.u[n].id==t.uid&&e.chat.u.splice(n,1);$(e).trigger("offuser",t)}}),t.on("playlist",function(t){e.callbacks.playlist(t)}),t.on("loginstatus",function(t){if(t.error){"nouser"==t.error&&(t.error="Нет такого пользователя"),"wrongpass"==t.error&&(t.error="Не тот пароль")}else e.user=t.user,e.user.t<0&&(e.user.t=0),e.user.nt=new Date(Date.parse(new Date)+e.user.nt);e.callbacks.loginstatus(t)}),t.on("disconnect",function(){$(e).trigger("disconnect"),e.user=null,e.channel={},e.callbacks={},e.chat=null}),t.on("tags",function(t){e.callbacks.tags(t.t)}),t.on("uptr",function(t){if(t.t.id==e.channel.current.id){var n=e.channel.current.src;e.channel.current=t.t,e.channel.current.scr=n;var i=e.channel.current;i.vote=0;for(var a in i.n)if(i.n[a].vid==e.user.id){i.vote=i.n[a].v;break}for(var a in i.p)if(i.p[a].vid==e.user.id){i.vote=i.p[a].v;break}t.current=!0}else for(var o in e.channel.pls)if(e.channel.pls[o].id==t.t.id){e.channel.pls[o]=t.t;var i=e.channel.pls[o];i.vote=0;for(var a in i.n)if(i.n[a].vid==e.user.id){i.vote=i.n[a].v;break}for(var a in i.p)if(i.p[a].vid==e.user.id){i.vote=i.p[a].v;break}e.channel.pls.sort(sortFunction),t.current=!1;break}$(e).trigger("trackupdate",t)})},Client.prototype.login=function(t,e,n){var i=this;i.callbacks.loginstatus=n,this.socket.emit("login",{u:t,p:e})},Client.prototype.track=function(t,e){var n=this,i=!1;if(t==n.channel.current.id){if(!e)return n.channel.current;e(n.channel.current),i=!0}for(var a in n.channel.pls)if(n.channel.pls[a].id==t){if(!e)return n.channel.pls[a];e(n.channel.pls[a]),i=!0}!i&&e&&this.socket.emit("gettrack",{id:t},function(t){e(t)})},Client.prototype.getPlaylist=function(t,e){cl=this,cl.callbacks.playlist=e,this.socket.emit("getplaylist",{id:t})},Client.prototype.goChannel=function(t,e){var n=this;n.callbacks.channeldata=e,this.socket.emit("gochannel",{id:t})},Client.prototype.getChannels=function(t){var e=this;e.callbacks.channelsdata=t,this.socket.emit("getchannels")},Client.prototype.getChat=function(t,e){var n=this;this.socket.emit("getchat",{shift:t.shift,id:this.channel.chid},function(t){t.u&&(n.chat=t,n.chat.id=n.channel.chid),e(t)})},Client.prototype.sendMessage=function(t,e){var n={m:t};this.socket.emit("sendmessage",n,e)},Client.prototype.tracksubmit=function(t,e){var n=t.form;this.socket.emit("tracksubmit",{chid:this.channel.chid,track:t.track},function(t){t.form=n,console.log("data.form: ",t.form),e(t)})},Client.prototype.addvote=function(t){this.user&&(t.chid=this.channel.chid,this.socket.emit("vote",t))},Client.prototype.adduservote=function(t,e){this.user&&(this.callbacks.uvotedata=e,this.socket.emit("uvote",t))},Client.prototype.getUser=function(t,e){this.socket.emit("getuser",t,e)},Client.prototype.getHistory=function(t,e,n){cl=this,cl.callbacks.history=n,this.socket.emit("gethistory",{chid:cl.channel.chid,s:t,g:e})},Client.prototype.getTags=function(t,e){cl=this,cl.callbacks.tags=e,this.socket.emit("gettags",{s:t})},Client.prototype.getTrackTags=function(t,e,n){cl=this,cl.callbacks.tags=n,this.socket.emit("gettags",{a:t,t:e})},Client.prototype.addTag=function(t,e){cl=this,cl.callbacks.tags=e,this.socket.emit("addtag",{s:t})},Client.prototype.killtrack=function(t){cl=this,this.socket.emit("deltrack",{tid:t,chid:cl.channel.chid})},Client.prototype.sendinvite=function(t,e,n){cl=this,cl.callbacks.invitestatus=n,this.socket.emit("sendinvite",{m:t,c:e})},Client.prototype.sendextinvite=function(t,e){this.socket.emit("sendextinvite",t,e)},Client.prototype.logout=function(t){this.socket.emit("logout",{s:!0},t)},Client.prototype.recover=function(t,e){cl=this,cl.callbacks.recover=e,this.socket.emit("recover",{m:t})},Client.prototype.changepass=function(t,e,n){cl=this,cl.callbacks.changepass=n,this.socket.emit("changepass",{o:t,n:e})},Client.prototype.updateUserData=function(t){this.socket.emit("upduserdata",t)},Client.prototype.updateTrack=function(t){this.socket.emit("updtrack",t)},Client.prototype.getchannel=function(t){for(var e in this.channels)if(this.channels[e].id==t)return this.channels[e];return!1},Client.prototype.banuser=function(t,e,n){console.log(e),this.socket.emit("banuser",{id:t,r:e},n)},Client.prototype.unbanuser=function(t,e){this.socket.emit("unbanuser",{id:t},e)},Client.prototype.setop=function(t,e){this.socket.emit("setop",t,e)},Client.prototype.removeop=function(t,e){this.socket.emit("removeop",t,e)},Client.prototype.setprops=function(t,e){this.socket.emit("setprops",t,e)},Client.prototype.sendPRVote=function(t,e){this.socket.emit("prvote",t,e)},client=new Client,console.log(client),$(client).bind("welcome",function(t,e){if(e){showChannels(e);var n=$.Storage.get("username"),i=$.Storage.get("password");n&&i?(client.login(n,i,processLogin),console.log("user "+n)):client.goChannel(1,onChannel)}}),client.init(location.host),function(t){t.fn.autofocus=function(){return this[0].autofocus!==!0?this.focus():this}}(jQuery);var timezone=108e5,client=null,remember_name=!0,tink=!0,noimg=!1,historyprocess=!1,lht=0,lang="ru",recovery=!1,mutelist=[],ctrl=!1;$(document).ready(function(){jQuery.easing.def="easeOutExpo",$(".loginform").hide(),player=new Player;var t=parseInt($.Storage.get("volume"));t>0&&(t/=1e3,$("#volume .slider .bar").width(125*t),player.volume(t)),$(".streamcontrol .play").click(function(){player.play(client.channel.hi),$(".streamcontrol .play").hide(),$(".streamcontrol .stop").show(),$.Storage.set("play","true")}),$(".streamcontrol .stop").click(function(){player.stop(),$(".streamcontrol .stop").hide(),$(".streamcontrol .play").show(),$.Storage.set("play","false")}),$(".streamcontrol .play").show(),$(".streamcontrol .stop").hide(),$("#volume .slider").bind("mousedown",function(t){t.preventDefault(),setvolume(t),$(window).bind("mousemove",setvolume),$(window).mouseup(function(){$(window).unbind("mousemove",setvolume)})});var e=$.Storage.get("style");console.log(e),switch_style(e?e:"day");var n=$.Storage.get("tink");n?tink="false"==n?!1:!0:$.Storage.set("tink","true");var i=$.Storage.get("noimg");i?noimg="false"==i?!1:!0:$.Storage.set("noimg","false");var i=$.Storage.get("noimg");i?noimg="false"==i?!1:!0:$.Storage.set("noimg","false"),client=new Client,console.log(client),$(client).bind("welcome",function(t,e){if(e){showChannels(e);var n=$.Storage.get("username"),i=$.Storage.get("password");n&&i?(client.login(n,i,processLogin),console.log("user"+n)):client.goChannel(1,onChannel)}}),$(client).bind("disconnect",function(){$(".content").hide(),$(".submit_box").hide(),$(".loginform").show(),$("#info .tabs .chat").hide(),$(".loginform .alert").html("потеряно соединение с сервером"),$("#console .upfiles").hide(),player.stop(),$("#console .streamcontrol .stop").hide(),$("#console .streamcontrol .play").show()}),$(client).bind("message",function(t,e){var n=!1;$(".log")[0].scrollHeight-$(".log").scrollTop()==$(".log").outerHeight()&&(n=!0),addMessage(e),n&&$(".log").animate({scrollTop:$(".log")[0].scrollHeight},1200)}),$(client).bind("cover",function(t,e){"img/nocover.png"!=e.src&&($("#playlist .current").attr("trackid")==e.id?$("#playlist .current .artwork").html('<img src="'+e.src+'">'):$(".trackid"+e.id+" .artwork").html('<img src="'+e.src+'">'))}),$(client).bind("addtrack",function(t,e){var n=!1;$(".log")[0].scrollHeight-$(".log").scrollTop()==$(".log").outerHeight()&&(n=!0);var i=$('<div class="message"><p class="who"><a href="javascript:addNick(\''+e.track.s+"');void(0);\">"+e.track.s+'</a> прнс </p><p class="track"> <a class="tracklink" href="#">'+e.track.a+" - "+e.track.t+"</a><br />"+e.track.i+'</p><div class="end"/></div>').appendTo($("#chatmessages"));i.find(".tracklink").click(function(){opentrack(e.track)}),n&&$(".log").animate({scrollTop:$(".log")[0].scrollHeight},1200),addtrack(e.track)}),$(client).bind("removetrack",function(t,e){removetrack(e.track.id)}),$(client).bind("newuser",function(){fillUserlist()}),$(client).bind("listners",function(t,e){$("#info .content.channels #"+e.chid+" .listners").html("<span>Слушают:</span>"+e.l),e.chid==client.channel.chid&&$("#console .info .chdata").html("<span>Слушают: </span>"+e.l+"<span> из них активно: </span>"+e.a),$(".content.channels").hasClass("active")&&fillchannelsdata(client.channels)
}),$(client).bind("offuser",function(){fillUserlist()}),$(client).bind("updatelimits",function(){newTagline()}),$(client).bind("newcurrent",function(t,e){e.chid==client.channel.chid&&(setCurrent(e.track),setcurtime(!0)),$("#info .content.channels #"+e.chid+" .current").html('<div class="cap">Сейчас:</div><div class="artist">'+e.track.a+'</div><div class="title">'+e.track.t+'</div><span><a href="http://vk.com/audio?q='+encodeURIComponent(e.track.a)+" - "+encodeURIComponent(e.track.t)+'" target="_blank">>vk</a></span>')}),$(client).bind("trackupdate",function(t,e){e.current&&(e.t.current=!0),updateTrack(e.t)}),$(client).bind("userupdate",function(t,e){refreshuser(e)}),$(client).bind("banned",function(){$("#info .tabs .tab.channels").click()}),setInterval(function(){var t=client.channel.current;t&&(client.channel.ct+=1,client.channel.ct>client.channel.current.tt&&(client.channel.ct=client.channel.current.tt),setcurtime(),updatetimes())},1e3),client.init(location.host),$("#remember").change(function(){var t=$(this);remember_name=t.is(":checked")}),$("#console .loginform .button").click(goLogin),$("#lgpass").bind("keyup",function(t){13==t.keyCode&&goLogin()}),$("#fileupload").fileupload({dataType:"json",add:function(t,e){$.each(e.files,function(t,e){client.user&&addupload(e)})}}),$("#info .tab").bind("mouseenter mouseleave",function(){$(this).hasClass("active")||$(this).children("a").toggleClass("hover")}),$("#info .tabs .tab").bind("click",function(){$(this).hasClass("active")||($("#info .tabs .tab").removeClass("active").children("a").removeClass("hover"),$(this).addClass("active").children("a").addClass("hover"),$("#info .content").hide(),$(this).hasClass("chat")&&($(".content.chat").show(),fillChat(),onresize()),$(this).hasClass("channels")&&showChannels(),$(this).hasClass("history")&&($("#showgold").attr("checked",!1),showHistory()),$(this).hasClass("profile")&&($(".content.profile").show(),client.user&&getuser(client.user.id)))}),$("#showgold").bind("click",function(){historyprocess||showHistory($(this).is(":checked"))}),$("#info .tabs .chat").hide(),$("#info .tabs .profile").hide(),$("#info .tabs .election").hide(),$("#messageinput").bind("keyup",function(t){13==t.keyCode&&submitMessage()}),$("#messageinput").focusin(function(){$(".log").animate({scrollTop:$(".log")[0].scrollHeight},1200)}),$("#info .content.history .inner").scroll(function(){$(this).children(".list").height()-$(this).scrollTop()-$(this).height()<300&&!historyprocess&&(historyprocess=!0,client.getHistory(lht,$("#showgold").is(":checked"),function(t){for(var e in t)addhistory(t[e]);historyprocess=!1}))}),$("#chattink").click(function(){tink=$(this).is(":checked"),settink()}),$("#chatshowimg").click(function(){noimg=!$(this).is(":checked"),setnoimg()}),$("#console .streamcontrol .stop").hide(),$(".content").hide(),$(".submit_box").hide(),$("#recovery").html('<a href="javascript:recoverymode(true); void(0);">Я забыл пароль</a>')});var taglinetimer=null,sectrack=setInterval(function(){if(messages.length){now=(new Date).getTime();for(var t=messages.length;t>0;t--)messages.length>t&&upadateMT(messages[t])}},5e3);$.fn.selectRange=function(t,e){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(t,e);else if(this.createTextRange){var n=this.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select()}})};var customCodes=[];customCodes[0]=[],customCodes[0][0]=/(http:\/\/[\w\-\.]+\.[a-zA-Z]{2,3}(?:\/\S*)?(?:[\w])+\.(?:jpg|png|gif|jpeg|bmp))/gim,customCodes[0][1]='<a href="$1" target="_blank"><img src="$1" /></a>',customCodes[1]=[],customCodes[1][0]=/(https:\/\/[\w\-\.]+\.[a-zA-Z]{2,3}(?:\/\S*)?(?:[\w])+\.(?:jpg|png|gif|jpeg|bmp))/gim,customCodes[1][1]='<a href="$1" target="_blank"><img src="$1" /></a>',customCodes[2]=[],customCodes[2][0]=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,customCodes[2][1]='<a href="$1" target="_blank">$1</a>',customCodes[3]=[],customCodes[3][0]=/(^|[^\/])(www\.[\S]+(\b|$))/gim,customCodes[3][1]='<a href="http://$1" target="_blank">$1</a>',customCodes[4]=[],customCodes[4][0]=/([\w\-\d]+\@[\w\-\d]+\.[\w\-\d]+)/gim,customCodes[4][1]='<a href="mailto:$1">$1</a>',customCodes[5]=[],customCodes[5][0]="!!!!!!!!!!",customCodes[5][1]="я идиот убейте меня кто нибудь! ",customCodes[6]=[],customCodes[6][0]="))))))))))",customCodes[6][1]='<font color="pink">недавно я познакомился с мальчиком, у него такие голубые глаза и член который еле помещается в мою... кажется я не туда пишу</font> ',customCodes[7]=[],customCodes[7][0]="NO.",customCodes[7][1]='<img src="/img/no.jpg" />';var messages=[],now=null,sound=new Audio,chatlogupdate=!1;$(document).ready(function(){$("#info .content.chat .log").scroll(scrolltop)});var meta=[],insertTag={getCursor:function(){var t={start:0,end:0};if(input.setSelectionRange)t.start=input.selectionStart,t.end=input.selectionEnd;else{if(!document.selection)return!1;if(document.selection&&document.selection.createRange){var e=document.selection.createRange(),n=e.duplicate();n.moveToElementText(input),n.setEndPoint("EndToEnd",e),t.start=n.text.length-e.text.length,t.end=t.start+e.text.length}}return t},setCursor:function(t,e,n){if(t.createTextRange){var i=t.createTextRange();i.move("character",e),i.select()}else t.selectionStart&&t.setSelectionRange(e,n)},tag:function(t,e){var n=document.getElementById("messageinput");n.focus();var i=n.scrollTop,a=getTextSelection(n),o=n.value.substring(0,a.start),s=n.value.substring(a.start,a.end),r=n.value.substring(a.end);if(a.start==a.end)var c=a.start+t.length;else var c=String(o+t+s+e).length;return n.value=o+t+s+e+r,insertTag.setCursor(n,c,c),i&&(n.scrollTop=i),!1}};angular.module("trigger").controller("AppCtrl",["$scope","$timeout","$mdSidenav","$log",function(t,e,n){t.play=!0,t.togglePlay=function(){t.play=!t.play},t.toggleLeft=function(){n("left").toggle()},t.toggleRight=function(){n("right").toggle()}}]).controller("LeftCtrl",["$scope","$timeout","$mdSidenav","$log",function(t,e,n){t.close=function(){n("left").close()}}]).controller("RightCtrl",["$scope","$timeout","$mdSidenav","$log",function(t,e,n){t.close=function(){n("right").close()}}]),angular.module("trigger").controller("UploadCtrl",["$scope",function(t){t.date=new Date}]),angular.module("trigger").controller("ConsoleCtrl",["$scope","$timeout","$mdDialog","$mdBottomSheet",function(t,e,n,i){t.data="Console",t.volume=23,t.changeVolume=function(e){t.volume=e},t.openUploadBar=function(e){t.alert="",i.show({templateUrl:"components/upload/upload.html",controller:"UploadCtrl",targetEvent:e}).then(function(e){t.alert=e.name+" clicked!"})}}]),angular.module("trigger").controller("SettingsCtrl",["$scope",function(t){t.date=new Date}]),angular.module("trigger").controller("ProfileCtrl",["$scope",function(t){t.data={selectedIndex:0,secondLocked:!0,secondLabel:"Item Two"},t.next=function(){t.data.selectedIndex=Math.min(t.data.selectedIndex+1,2)},t.previous=function(){t.data.selectedIndex=Math.max(t.data.selectedIndex-1,0)}}]),angular.module("trigger").controller("PlusesCtrl",["$scope",function(t){t.date=new Date,t.tracks=[{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"}]}]),angular.module("trigger").filter("readableTime",function(){return function(t){var e,n,i,t=parseInt(t,10);switch(!1){case!(60>t):i=t;break;case!(3600>t):n=~~(t/60),i=t%60;break;default:e=~~(t/3600),n=~~(t%3600/60),i=t%60}var a="";return e>0&&(a+=""+e+":"+(10>n?"0":"")),a+=n>0?""+n+":"+(10>i?"0":""):"0:",a+=""+i}}).controller("PlaylistCtrl",["$scope","$mdSidenav",function(t,e){t.reverse=!1;var n=window.innerWidth>0?window.innerWidth:screen.width;n>=960&&(t.reverse=!0),t.toggleLeft=function(){e("left").toggle()},t.toggleRight=function(){e("right").toggle()},t.playlist=[{a:"P.O.D.",t:"Youth of the Nation",s:"Shepherd",id:304818,sid:2043,tt:23,i:"",tg:[],p:[{v:1,vid:2043,n:"Shepherd"}],n:[],r:10,src:"assets/images/nocover.png",vote:0},{a:"Syberian Beast meets Mr.Moore",t:"Wien (Original Mix)",s:"Shepherd",id:304819,sid:2043,tt:218,i:"",tg:[],p:[{v:1,vid:2481,n:"Renar"}],n:[],r:7,src:"assets/images/nocover.png",vote:0},{a:"Vitalic",t:" Poison Lips",s:"Shepherd",id:304820,sid:2043,tt:236,i:"",tg:[],p:[{v:1,vid:2043,n:"Shepherd"}],n:[],r:12,src:"assets/images/nocover.png",vote:0},{a:"Arure",t:"Civili Builders",s:"Fabeltier",id:304805,sid:1499,tt:186,i:"",tg:[],p:[],n:[],r:0,src:"assets/images/nocover.png",vote:0},{a:"The Captain Flatcap",t:"In the Summertime (Swing Hop Mix)",s:"Fabeltier",id:304806,sid:1499,tt:266,i:"",tg:[],p:[],n:[],r:-2,src:"assets/images/nocover.png",vote:0},{a:"Martins Garden",t:"Athos (Sin vocales)",s:"Fabeltier",id:304807,sid:1499,tt:434,i:"",tg:[],p:[],n:[],r:1,src:"assets/images/nocover.png",vote:0},{a:"Tack",t:"Junky Bluesy",s:"Fabeltier",id:304808,sid:1499,tt:330,i:"",tg:[],p:[],n:[],r:7,src:"assets/images/nocover.png",vote:0},{a:"Tribone",t:"Proper Stomper",s:"Fabeltier",id:304809,sid:1499,tt:379,i:"",tg:[],p:[],n:[],r:5,src:"assets/images/nocover.png",vote:0},{a:"Poppa Doses ",t:"Ruff Up (The Widdler RMX)",s:"Fabeltier",id:304810,sid:1499,tt:268,i:"",tg:[],p:[],n:[],r:5,src:"assets/images/nocover.png",vote:0},{a:"Poppa Doses ",t:"Ruff Up (The Widdler RMX)",s:"Fabeltier",id:304810,sid:1499,tt:268,i:"",tg:[],p:[],n:[],r:5,src:"assets/images/nocover.png",vote:0},{a:"Poppa Doses ",t:"Ruff Up (The Widdler RMX)",s:"Fabeltier",id:304810,sid:1499,tt:268,i:"",tg:[],p:[],n:[],r:5,src:"assets/images/nocover.png",vote:0}],t.voteUp=function(t){client.addvote({id:t,v:client.user.w})},t.voteDown=function(t){client.addvote({id:t,v:client.user.w})}}]),angular.module("trigger").controller("OnlineCtrl",["$scope",function(t){t.date=new Date,t.users=[{name:"ucsus"},{name:"Gans"},{name:"Fabeltier"},{name:"Vakstal"},{name:"Bamchikolachi"},{name:"sinestetik"},{name:"true"},{name:"hitch"},{name:"kpya3e"},{name:"mvs059"},{name:"DoZeR"},{name:"Turist"},{name:"overnum"},{name:"bukake"},{name:"andycolor"},{name:"Nofets"},{name:"AlexSLV"},{name:"llikd"},{name:"bird"},{name:"S0ulTr4d3r"},{name:"samlopata"}]}]),angular.module("trigger").controller("NavbarCtrl",["$scope",function(t){t.date=new Date}]),angular.module("trigger").controller("MinusesCtrl",["$scope",function(t){t.date=new Date,t.tracks=[{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"}]}]),angular.module("trigger").controller("MarkdownCtrl",["$scope",function(t){t.data={content:""}}]),angular.module("trigger").controller("LoginCtrl",["$scope","$mdDialog",function(t,e){t.hide=function(){e.hide()},t.cancel=function(){e.cancel()},t.answer=function(t){e.hide(t)}}]),angular.module("trigger").controller("InfoCtrl",["$scope",function(t){t.data={selectedIndex:0,secondLocked:!0,secondLabel:"Item Two"},t.next=function(){t.data.selectedIndex=Math.min(t.data.selectedIndex+1,2)},t.previous=function(){t.data.selectedIndex=Math.max(t.data.selectedIndex-1,0)}}]),angular.module("trigger").controller("HistoryCtrl",["$scope",function(t){t.date=new Date,t.tracks=[{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"},{a:"Juaneco Y Su Combo",t:"Me Robaron Mi Runa Mula",s:"toymihay",id:305757,sid:1322,tt:188,i:"",tg:[],p:[{v:1,vid:1322,n:"toymihay"}],n:[],r:1,vote:0,src:"assets/images/nocover.png"}]}]),angular.module("trigger").controller("DemocracyCtrl",["$scope",function(t){t.data={selectedIndex:0,secondLocked:!0,secondLabel:"Item Two"},t.president={name:"Suok",description:"упоротый напрочь"},t.moderators=[{name:"bird",id:"1",description:"упарывается"},{name:"Ucsus",id:"1912",description:"Rudolph"},{name:"Fab",id:"234",description:"Dasher"},{name:"Ololo",id:"1234",description:"редактор"},{name:"Lulz",id:"624",description:"упрт"},{name:"Suok",id:"2453",description:"начальник"}],t.banned=[{name:"bird",id:"1",reason:"упарывается"},{name:"Ucsus",id:"1912",reason:"Rudolph"},{name:"Fab",id:"234",reason:"Dasher"},{name:"Ololo",id:"1234",reason:"редактор"},{name:"Lulz",id:"624",reason:"упрт"},{name:"Suok",id:"2453",reason:"начальник"}],t.next=function(){t.data.selectedIndex=Math.min(t.data.selectedIndex+1,2)},t.previous=function(){t.data.selectedIndex=Math.max(t.data.selectedIndex-1,0)}}]),angular.module("trigger").controller("CurrentCtrl",["$scope","$interval",function(t,e){t.mode="query",t.determinateValue=0,t.determinateValue2=0,e(function(){t.determinateValue+=1,t.determinateValue2+=1.5,t.determinateValue>100&&(t.determinateValue=0,t.determinateValue2=0)},100,0,!0),e(function(){t.mode="query"==t.mode?"determinate":"query"},7200,0,!0),t.current={a:"CurrentArtist",t:"CurrentTitle",s:"Shepherd",id:304818,sid:2043,tt:262,i:"",tg:[{id:1165,n:"1h mix"},{id:1162,n:"lol"}],p:[{v:1,vid:2043,n:"Shepherd"}],n:[],r:18,src:"assets/images/nocover.png",vote:0}}]),angular.module("trigger").controller("ChatCtrl",["$scope",function(t){t.date=new Date,t.messages=[{chid:1,uid:2043,uname:"Shepherd",m:"&gt;Fabeltier ну кто-то принес значит - я не слышах его раньше",t:"2015-01-03T16:04:24.000Z",tid:304833},{chid:1,uid:1499,uname:"Fabeltier",m:"&gt;Shepherd я и принес, скорее всего. Но скорее в рамках 'Посмотреть, что в старой папке, а то новая уже достала'.",t:"2015-01-03T16:05:00.000Z",tid:304833},{chid:1,uid:1499,uname:"Fabeltier",m:"&gt;Shepherd но трек хороший, да.",t:"2015-01-03T16:05:07.000Z",tid:304833},{chid:1,uid:2043,uname:"Shepherd",m:"&gt;Ucsus с Новым годом!",t:"2015-01-03T16:15:12.000Z",tid:304834},{chid:1,uid:1897,uname:"VoodooArt",m:"с Новым годом кто-нибудь уже поздравлял?",t:"2015-01-03T17:08:54.000Z",tid:304843},{chid:1,uid:2043,uname:"Shepherd",m:"&gt;VoodooArt конечно",t:"2015-01-03T17:09:09.000Z",tid:304843},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt Ссссс Новым Годом!",t:"2015-01-03T17:25:39.000Z",tid:304846},{chid:1,uid:1897,uname:"VoodooArt",m:"&gt;Shepherd &gt;Vakstal с новым годом:)",t:"2015-01-03T17:27:10.000Z",tid:304846},{chid:1,uid:2043,uname:"Shepherd",m:"&gt;Vakstal &gt;VoodooArt с новым вдохом",t:"2015-01-03T17:28:13.000Z",tid:304846},{chid:1,uid:1924,uname:"Vakstal",m:"Подарили на стимоадм игру, скачал, запустил, а оно вылетает, с... Новым Годом! Обида.",t:"2015-01-03T17:30:06.000Z",tid:304846},{chid:1,uid:1897,uname:"VoodooArt",m:"&gt;Vakstal другие игры есть, но то что подарили и такой облом - это облом.",t:"2015-01-03T17:33:38.000Z",tid:304847},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt это вообще беда. похоже, железячная проблема.",t:"2015-01-03T17:34:35.000Z",tid:304847},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt так-то штук шесть или семь подарили, а поиграть могу только в 2д-инди.",t:"2015-01-03T17:34:59.000Z",tid:304847},{chid:1,uid:1897,uname:"VoodooArt",m:"&gt;Vakstal скачай пиратку для PC^^) и не страдай так",t:"2015-01-03T17:37:00.000Z",tid:304847},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt так она ж тоже будет вылетать в белый экран)",t:"2015-01-03T17:37:29.000Z",tid:304847},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt сейчас такие времена, что даже на пс4 игры вылетают в главное меню",t:"2015-01-03T17:37:56.000Z",tid:304847},{chid:1,uid:1897,uname:"VoodooArt",m:"&gt;Vakstal ты просто неправильно что-то делаешь",t:"2015-01-03T17:39:09.000Z",tid:304848},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt я тоже так думаю.",t:"2015-01-03T17:39:35.000Z",tid:304848},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt но я пока не понял, что.",t:"2015-01-03T17:39:49.000Z",tid:304848},{chid:1,uid:1924,uname:"Vakstal",m:"&gt;VoodooArt перегрева нет, да и чистил не так давно.",t:"2015-01-03T17:39:57.000Z",tid:304848},{chid:1,uid:2152,uname:"Pikvusha",m:"всем день или вечер? короче алоха!",t:"2015-01-03T18:01:49.000Z",tid:304853},{chid:1,uid:2043,uname:"Shepherd",m:"&gt;Pikvusha приветик",t:"2015-01-03T18:04:11.000Z",tid:304854},{chid:1,uid:2043,uname:"Shepherd",m:"&gt;Pikvusha с новым счастьем",t:"2015-01-03T18:04:18.000Z",tid:304854},{chid:1,uid:2152,uname:"Pikvusha",m:"&gt;Shepherd с наступившим!)",t:"2015-01-03T18:04:30.000Z",tid:304854},{chid:1,uid:2043,uname:"Shepherd",m:"&gt;Pikvusha ну всё на сегодня хватит. итого на 5.5 часов сборничек получился :)",t:"2015-01-03T18:25:14.000Z",tid:304858},{chid:1,uid:2152,uname:"Pikvusha",m:"&gt;Shepherd это хорошо)",t:"2015-01-03T18:28:02.000Z",tid:304859},{chid:1,uid:2152,uname:"Pikvusha",m:"&gt;Shepherd прямо рабочий день",t:"2015-01-03T18:28:11.000Z",tid:304859},{chid:1,uid:1562,uname:"XAT",m:"<b>Бодрого вечера, тригганы!</b>",t:"2015-01-03T19:32:41.000Z",tid:304809},{chid:1,uid:2478,uname:"alinaish",m:"йоу",t:"2015-01-03T19:34:19.000Z",tid:304805},{chid:1,uid:2043,uname:"Shepherd",m:"<a href='https://pp.vk.me/c424419/v424419065/496d/U8ZESnaZ5G8.jpg' target='_blank'><img src='https://pp.vk.me/c424419/v424419065/496d/U8ZESnaZ5G8.jpg' /></a>",t:"2015-01-03T19:40:11.000Z",tid:304806},{chid:1,uid:3,uname:"DoZeR",m:"&gt;Shepherd тут? всё пропустил?",t:"2015-01-03T21:06:13.000Z",tid:304884},{chid:1,uid:1936,uname:"Ucsus",m:"чо вы тут, виртуалы проклятые?",t:"2015-01-03T21:37:20.000Z",tid:304889},{chid:1,uid:1562,uname:"XAT",m:"&gt;Ucsus ночи!",t:"2015-01-03T21:37:55.000Z",tid:304889},{chid:1,uid:1936,uname:"Ucsus",m:"&gt;XAT лайла тов!",t:"2015-01-03T21:38:08.000Z",tid:304889},{chid:1,uid:959,uname:"russ",m:"&gt;Vakstal ye [jnm rnjnj dcgjvybk",t:"2015-01-03T22:08:39.000Z",tid:304891},{chid:1,uid:959,uname:"russ",m:"&gt;Vakstal спасибо, братюнь",t:"2015-01-03T22:09:03.000Z",tid:304891},{chid:1,uid:2473,uname:"llikd",m:"о, именинник :)",t:"2015-01-03T22:09:52.000Z",tid:304891},{chid:1,uid:2473,uname:"llikd",m:"с днюхой, до 120-ти тебе ;)",t:"2015-01-03T22:10:13.000Z",tid:304891},{chid:1,uid:959,uname:"russ",m:"&gt;llikd спасибо",t:"2015-01-03T22:12:06.000Z",tid:304891},{chid:1,uid:959,uname:"russ",m:"я же могу раз в году сделать хуйню?",t:"2015-01-03T22:19:39.000Z",tid:304892},{chid:1,uid:2473,uname:"llikd",m:"хм, спящий малой этот трек не оценил...",t:"2015-01-03T22:26:33.000Z",tid:304896},{chid:1,uid:959,uname:"russ",m:"&gt;llikd ящетаю это прекрасный трек",t:"2015-01-03T22:27:47.000Z",tid:304896},{chid:1,uid:2473,uname:"llikd",m:"малому далеко еще до таких треков :)",t:"2015-01-03T22:30:28.000Z",tid:304894},{chid:1,uid:3,uname:"DoZeR",m:"&gt;llikd приятное музло",t:"2015-01-03T23:01:01.000Z",tid:304900},{chid:1,uid:3,uname:"DoZeR",m:"&gt;llikd долго льется",t:"2015-01-03T23:19:11.000Z",tid:304900},{chid:1,uid:2043,uname:"Shepherd",m:"&gt;DoZeR пропустиль :(",t:"2015-01-04T04:48:05.000Z",tid:304902},{chid:1,uid:1520,uname:"kpya3e",m:"утро!",t:"2015-01-04T07:50:50.000Z",tid:304902},{chid:1,uid:3,uname:"DoZeR",m:"боброе!",t:"2015-01-04T08:08:39.000Z",tid:304902},{chid:1,uid:3,uname:"DoZeR",m:"&gt;Shepherd сохранил треклист страницей хистори и выборочно прослушал через поиск вк",t:"2015-01-04T08:10:09.000Z",tid:304902},{chid:1,uid:3,uname:"DoZeR",m:"&gt;Shepherd не расстраивайся)",t:"2015-01-04T08:10:30.000Z",tid:304902},{m:"привет всем",uid:2215,uname:"Bigi",chid:1,tid:304902,t:"2015-01-04T08:11:42.120Z"},{m:"&gt;russ <b>С днем рождения дорогой!!!</b>",uid:2438,uname:"VelikoeKote",chid:1,tid:304904,t:"2015-01-04T08:28:03.406Z"},{m:"&gt;VelikoeKote cgfcb,j? pfz)",uid:959,uname:"russ",chid:1,tid:304904,t:"2015-01-04T08:28:17.701Z"},{m:"&gt;VelikoeKote Спасибо, зая)",uid:959,uname:"russ",chid:1,tid:304904,t:"2015-01-04T08:28:24.653Z"},{m:"Всем привет",uid:959,uname:"russ",chid:1,tid:304904,t:"2015-01-04T08:28:46.301Z"},{m:"<a href='https://pp.vk.me/c622025/v622025316/1212b/G_dIjCb4tzE.jpg' target='_blank'><img src='https://pp.vk.me/c622025/v622025316/1212b/G_dIjCb4tzE.jpg' /></a>",uid:959,uname:"russ",chid:1,tid:304906,t:"2015-01-04T08:39:44.424Z"},{m:"МНЕ АДМ ПОДАРОК ПОДАРИЛ!!!",uid:959,uname:"russ",chid:1,tid:304907,t:"2015-01-04T08:45:42.952Z"},{m:"спустя 4 года лол",uid:959,uname:"russ",chid:1,tid:304907,t:"2015-01-04T08:47:57.261Z"},{m:"<a href='http://std3.ru/31/6b/1408183245-316bd0c5a01d34116e982e84825436a5.jpeg' target='_blank'><img src='http://std3.ru/31/6b/1408183245-316bd0c5a01d34116e982e84825436a5.jpeg' /></a>",uid:959,uname:"russ",chid:1,tid:304907,t:"2015-01-04T08:49:58.419Z"},{m:"&gt;samlopata &gt;S0ulTr4d3r &gt;stiff &gt;Ucsus &gt;llikd &gt;DoZeR &gt;Nofets &gt;VelikoeKote &gt;sinestetik &gt;kpya3e &gt;EveryonE &gt;Rockhaunt &gt;Bigi &gt;si14 &gt;JohnBo &gt;Gans ну тащите музяку жеж",uid:959,uname:"russ",chid:1,tid:304908,t:"2015-01-04T08:50:59.434Z"},{m:"&gt;russ че где",uid:1975,uname:"JohnBo",chid:1,tid:304908,t:"2015-01-04T08:51:12.211Z"},{m:"приветы",uid:1975,uname:"JohnBo",chid:1,tid:304908,t:"2015-01-04T08:51:14.632Z"},{m:"&gt;JohnBo дарова",uid:959,uname:"russ",chid:1,tid:304908,t:"2015-01-04T08:51:21.032Z"},{m:"Я в этой волне не особо секу, но вот че то прнс",uid:1975,uname:"JohnBo",chid:1,tid:304909,t:"2015-01-04T09:04:33.766Z"},{m:"я на работе, тут музла почти нет... так что, чукча до вечера не писатель :)",uid:2473,uname:"llikd",chid:1,tid:304910,t:"2015-01-04T09:08:50.967Z"},{m:"точно не антвуд",uid:498,uname:"kadettt",chid:1,tid:304912,t:"2015-01-04T09:19:01.062Z"},{m:"микс шоли?",uid:498,uname:"kadettt",chid:1,tid:304912,t:"2015-01-04T09:19:40.718Z"},{m:"смысл выкладывать в таком говёном качестве?",uid:498,uname:"kadettt",chid:1,tid:304916,t:"2015-01-04T09:38:43.846Z"},{m:"это ж продижды, уважать надо",uid:498,uname:"kadettt",chid:1,tid:304916,t:"2015-01-04T09:38:56.110Z"},{m:"&gt;VelikoeKote хуже качества не было?",uid:3,uname:"DoZeR",chid:1,tid:304916,t:"2015-01-04T09:41:17.389Z"},{m:"&gt;russ ишь раскомандовался",uid:3,uname:"DoZeR",chid:1,tid:304916,t:"2015-01-04T09:41:35.443Z"},{m:"ты посмотри на них)",uid:3,uname:"DoZeR",chid:1,tid:304916,t:"2015-01-04T09:41:40.097Z"},{m:"&gt;DoZeR судя повсему запись из зала",uid:498,uname:"kadettt",chid:1,tid:304916,t:"2015-01-04T09:41:42.479Z"},{m:"&gt;VelikoeKote &gt;kadettt танунах такое слушать",uid:3,uname:"DoZeR",chid:1,tid:304916,t:"2015-01-04T09:41:58.737Z"},{m:"&gt;DoZeR угу",uid:498,uname:"kadettt",chid:1,tid:304916,t:"2015-01-04T09:42:05.783Z"},{m:"&gt;DoZeR притому  них на концертах звук  хороший",uid:498,uname:"kadettt",chid:1,tid:304916,t:"2015-01-04T09:42:22.529Z"},{m:"&gt;DoZeR у него днюха,вот и камандует",uid:498,uname:"kadettt",chid:1,tid:304917,t:"2015-01-04T09:43:38.088Z"},{m:"&gt;kadettt да слил я тот трек",uid:959,uname:"russ",chid:1,tid:304917,t:"2015-01-04T09:43:54.161Z"},{m:"&gt;kadettt узбагойтесь",uid:959,uname:"russ",chid:1,tid:304917,t:"2015-01-04T09:44:00.464Z"},{m:"&gt;kadettt могу и этот слить",uid:959,uname:"russ",chid:1,tid:304917,t:"2015-01-04T09:44:18.511Z"},{m:"амбиции",uid:3,uname:"DoZeR",chid:1,tid:304917,t:"2015-01-04T09:44:46.403Z"},{m:"лан я пошел в лол играть, как заебет пишите",uid:959,uname:"russ",chid:1,tid:304917,t:"2015-01-04T09:45:34.879Z"},{m:"nbymrfqnt dcvsckt",uid:959,uname:"russ",chid:1,tid:304917,t:"2015-01-04T09:51:25.985Z"},{m:"тинькайте",uid:959,uname:"russ",chid:1,tid:304917,t:"2015-01-04T09:51:33.193Z"},{m:"моя свалил",uid:959,uname:"russ",chid:1,tid:304917,t:"2015-01-04T09:51:38.997Z"},{m:"чо такое лол ?",uid:498,uname:"kadettt",chid:1,tid:304917,t:"2015-01-04T09:52:12.929Z"},{m:"&gt;kadettt лига легенд",uid:3,uname:"DoZeR",chid:1,tid:304925,t:"2015-01-04T10:58:58.924Z"},{m:"у меня дежавю",uid:3,uname:"DoZeR",chid:1,tid:304926,t:"2015-01-04T10:59:23.543Z"},{m:"&gt;VelikoeKote тут ?",uid:3,uname:"DoZeR",chid:1,tid:304929,t:"2015-01-04T11:11:10.696Z"},{m:"JohnBo, тут?",uid:2415,uname:"fancar",chid:1,tid:304955,t:"2015-01-04T12:35:15.566Z"},{m:"какой годный музон играет, ну вообще",uid:788,uname:"afanasiy_rosha",chid:1,tid:304958,t:"2015-01-04T12:54:14.176Z"},{m:"&gt;fancar тут",uid:1975,uname:"JohnBo",chid:1,tid:304973,t:"2015-01-04T15:03:45.021Z"},{m:"ping",uid:3,uname:"DoZeR",chid:1,tid:304975,t:"2015-01-04T15:14:20.615Z"},{m:"бу!",uid:1155,uname:"boocha",chid:1,tid:304985,t:"2015-01-04T17:41:10.936Z"},{m:"алоха!",uid:2152,uname:"Pikvusha",chid:1,tid:304989,t:"2015-01-04T18:09:51.713Z"},{m:"&gt;Pikvusha Привет.",uid:2446,uname:"true",chid:1,tid:304995,t:"2015-01-04T18:53:05.685Z"},{m:"как у нас тут все минималистично мертво",uid:703,uname:"audioburglar",chid:1,tid:304996,t:"2015-01-04T19:29:35.796Z"},{m:"местами - переменная облачность, возможны осадки",uid:2473,uname:"llikd",chid:1,tid:304996,t:"2015-01-04T19:44:15.350Z"},{m:"/ххх",uid:2473,uname:"llikd",chid:1,tid:304996,t:"2015-01-04T19:44:58.329Z"},{m:"&gt;russ хола! с ДР! <s>котов и енотов!</s> всех благ!",uid:1562,uname:"XAT",chid:1,tid:304996,t:"2015-01-04T19:50:51.822Z"},{m:"&gt;XAT Спасибо дорогой",uid:959,uname:"russ",chid:1,tid:304996,t:"2015-01-04T19:51:25.798Z"},{m:"&gt;XAT я не успеваю всем отвечать",uid:959,uname:"russ",chid:1,tid:304996,t:"2015-01-04T19:51:41.974Z"},{m:"&gt;russ ))",uid:1562,uname:"XAT",chid:1,tid:304996,t:"2015-01-04T19:51:57.321Z"},{m:"&gt;XAT у меня телефон разрывается, звонят через каждую минуту",uid:959,uname:"russ",chid:1,tid:304996,t:"2015-01-04T19:52:43.333Z"},{m:"&gt;russ збс, чо) скажи им чтоб по очереди звонили. с перерывом в 5-7 минут, чтоб успевать тосты слушать)",uid:1562,uname:"XAT",chid:1,tid:304996,t:"2015-01-04T19:54:49.039Z"},{m:"&gt;XAT чоты вы запустили триггер",uid:959,uname:"russ",chid:1,tid:304996,t:"2015-01-04T19:57:36.687Z"},{m:"&gt;DoZeR не клей мою девушку",uid:959,uname:"russ",chid:1,tid:304996,t:"2015-01-04T19:58:49.277Z"},{m:"&gt;russ <span class='irony'>триггер запущен. всё работает.</span>",uid:1562,uname:"XAT",chid:1,tid:304996,t:"2015-01-04T20:02:48.900Z"},{m:"&gt;XAT ща я исправю ситуацию",uid:959,uname:"russ",chid:1,tid:304996,t:"2015-01-04T20:03:27.176Z"},{m:"держите еще треков",uid:959,uname:"russ",chid:1,tid:304997,t:"2015-01-04T20:16:35.949Z"},{m:"ну мне же можног, да",uid:959,uname:"russ",chid:1,tid:304997,t:"2015-01-04T20:25:17.086Z"},{m:"&gt;russ ещё полчаса можно, а потом спать!",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:29:19.499Z"},{m:"&gt;Vakstal ты строк",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:31:06.619Z"},{m:"&gt;Vakstal шалом, таксистам!",uid:1936,uname:"Ucsus",chid:1,tid:304997,t:"2015-01-04T20:31:13.383Z"},{m:"&gt;XAT ну завтра ж понедельник, ХАТ!",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:31:18.868Z"},{m:"&gt;Ucsus привет, а запятая зачем?",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:31:29.124Z"},{m:"&gt;Vakstal я сегодня в ужасе узнал, что сегодня вскр",uid:1936,uname:"Ucsus",chid:1,tid:304997,t:"2015-01-04T20:31:38.652Z"},{m:"&gt;Vakstal Vakstal!",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:31:39.650Z"},{m:"&gt;Vakstal случайно",uid:1936,uname:"Ucsus",chid:1,tid:304997,t:"2015-01-04T20:31:42.787Z"},{m:"&gt;Ucsus жуть какая",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:31:44.952Z"},{m:"&gt;Vakstal с того года завалялась",uid:1936,uname:"Ucsus",chid:1,tid:304997,t:"2015-01-04T20:31:47.236Z"},{m:"&gt;Vakstal какой понедельник??",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:31:56.375Z"},{m:"&gt;XAT у Уксуса спроси",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:32:04.322Z"},{m:"&gt;Ucsus какой понедельник то?",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:32:41.170Z"},{m:"&gt;XAT хуевый",uid:1936,uname:"Ucsus",chid:1,tid:304997,t:"2015-01-04T20:32:50.711Z"},{m:"вооооот",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:34:30.732Z"},{m:"&gt;Vakstal о как... а чо, у, таксистов, тоже понедельник завтра?",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:36:26.822Z"},{m:"&gt;XAT я думаю, таксистам удобнее работать два через два. даже не знаю, есть ли у них стандартная пятидневка",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:37:00.152Z"},{m:"&gt;Vakstal мошт только нестандартная. хз. вы, такситсты, такие загадочные)",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:39:29.587Z"},{m:"&gt;XAT ага, и не говори.",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:39:38.853Z"},{m:"&gt;XAT но у меня выходные ещё будут до 11",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:39:53.726Z"},{m:"&gt;XAT потом пять рабочих и отпуск до 01.02",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:40:03.371Z"},{m:"&gt;Vakstal так уже 11.40. опаздываешь",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:40:11.324Z"},{m:"&gt;XAT а я уже не знаю, чем занятьс",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:40:16.792Z"},{m:"&gt;Vakstal в отпуске?",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:40:37.443Z"},{m:"&gt;XAT не, ты не путай, 11, а не 23",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:40:44.097Z"},{m:"&gt;XAT в отпуске. сейчас-то просто выходные, а потом ещё две недели отпуск",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:41:01.401Z"},{m:"&gt;Vakstal нахер ты взял отпуск после новогодних? печень полечить?) так ты ж не пйож.",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:41:34.976Z"},{m:"&gt;XAT так кто ж знал, что мне дадут аж 11 выходных",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:42:03.759Z"},{m:"&gt;XAT я себе расставил отпуск равномерно на весь год",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:42:20.629Z"},{m:"&gt;Vakstal ааааа, тебя выпиздили в принудительный чтоли?",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:42:25.573Z"},{m:"&gt;XAT а они оп и выходных напихали",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:42:25.804Z"},{m:"&gt;XAT &gt;Vakstal привет.",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:43:12.371Z"},{m:"&gt;boocha о, привет.",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:43:19.435Z"},{m:"&gt;XAT &gt;Vakstal быстро советуйте клевый ужастик!",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:43:25.743Z"},{m:"&gt;boocha вечера)",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:43:28.655Z"},{m:"&gt;XAT &gt;Vakstal чтобы прям обосаца",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:43:33.279Z"},{m:"&gt;boocha оно",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:43:36.971Z"},{m:"&gt;boocha бабадук!",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:43:52.653Z"},{m:"хз, я ужастиков не знаю",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:44:04.492Z"},{m:"&gt;boocha не только обосаца",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:44:21.161Z"},{m:"но у меня просто требования дебильные)",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:44:31.518Z"},{m:"поновее и с озвучкой хорошей",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:45:24.011Z"},{m:"if it's in a word <br> or it's in a look <br> you can't get rid of <br> <big><b>THE BABADOOK!</b></big>",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:46:41.469Z"},{m:"&gt;boocha атсрал",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:48:24.739Z"},{m:"&gt;boocha астрал, т.е.",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:48:32.583Z"},{m:"&gt;XAT атсрал смотрела",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:48:39.159Z"},{m:"&gt;boocha а этот, как его",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:48:44.911Z"},{m:"&gt;boocha окулюсь",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:48:46.460Z"},{m:"&gt;Vakstal чоа?",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:48:53.623Z"},{m:"&gt;boocha ну во <a href='http://www.kinopoisk.ru/film/680499/' target='_blank'>http://www.kinopoisk.ru/film/680499/</a>",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:49:12.945Z"},{m:"&gt;Vakstal я уже нашла, уиии, нормально)",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:49:30.212Z"},{m:"&gt;Vakstal только на вочизе отзывы - хз",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:49:37.717Z"},{m:"&gt;boocha да и оценки",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:49:43.986Z"},{m:"&gt;Vakstal а ты как считаешь?",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:50:03.224Z"},{m:"&gt;boocha а я считаю, что если нравится жанр, то надо попробовать",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:50:24.803Z"},{m:"&gt;Vakstal ты прямо как сексопатолог говоришь)",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:50:42.810Z"},{m:"&gt;Vakstal спасибоньки!",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T20:50:49.499Z"},{m:"&gt;XAT может, и не таксист вовсе, а сексопатолог!",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:51:02.849Z"},{m:"&gt;Vakstal мошт и таксист-сексопатолог) лишь бы не сексопатологоанатом)",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:52:00.961Z"},{m:"&gt;XAT таксист-сексист!",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:52:30.161Z"},{m:"&gt;Vakstal таксолог",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:53:21.673Z"},{m:"&gt;XAT это что-то про такс",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:53:30.025Z"},{m:"&gt;XAT узкоспециализированный такой кинолог",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:53:43.630Z"},{m:"&gt;Vakstal таксофил - вот это про такс",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:53:57.740Z"},{m:"&gt;XAT это уже не очень здраво",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:54:11.136Z"},{m:"&gt;Vakstal узкоспециализированный - таксовод)",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:54:26.206Z"},{m:"&gt;XAT вод - это если развожу, разве нет?",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T20:54:49.946Z"},{m:"&gt;Vakstal заводишь",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T20:56:02.322Z"},{m:"кс-кс-кс, ап-ап-ап",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:03:38.371Z"},{m:"&gt;Vakstal &gt;XAT ну кому я кыскаю?",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:04:10.444Z"},{m:"&gt;boocha так надо тинькать, а не кыскать",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T21:04:30.003Z"},{m:"там такие уииии запилы!",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:04:34.358Z"},{m:"&gt;boocha не слышно же ж",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T21:04:36.223Z"},{m:"&gt;Ucsus ало!",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:04:47.271Z"},{m:"&gt;boocha могу в тапок насцать)",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T21:04:56.793Z"},{m:"&gt;Ucsus аа-лло!",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T21:04:59.778Z"},{m:"&gt;boocha шалом, дарлинг!",uid:1936,uname:"Ucsus",chid:1,tid:304997,t:"2015-01-04T21:05:09.261Z"},{m:"&gt;boocha ХАТ может",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T21:05:23.669Z"},{m:"&gt;boocha русса потереби.",uid:1562,uname:"XAT",chid:1,tid:304997,t:"2015-01-04T21:05:36.557Z"},{m:"&gt;XAT вот давай только без этого!",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:05:50.187Z"},{m:"&gt;russ рус, а рус?",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:05:57.973Z"},{m:"нормас",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:06:24.114Z"},{m:"&gt;boocha вот, кстати, ты тут кыскала, а у нас тут водится ВеликоеКоте - и не реагирует",uid:1924,uname:"Vakstal",chid:1,tid:304997,t:"2015-01-04T21:07:24.088Z"},{m:"&gt;Vakstal я на то и кыскала",uid:1155,uname:"boocha",chid:1,tid:304997,t:"2015-01-04T21:07:37.117Z"},{m:"чего у вас тут?",uid:271,uname:"thorgnir",chid:1,tid:305011,t:"2015-01-04T21:13:52.619Z"},{m:"&gt;thorgnir у руса др",uid:1155,uname:"boocha",chid:1,tid:305011,t:"2015-01-04T21:14:02.389Z"},{m:"&gt;thorgnir а так-кладбище",uid:1155,uname:"boocha",chid:1,tid:305011,t:"2015-01-04T21:14:10.518Z"},{m:"&gt;boocha ну кладбище это ожидаемо на выходных-то",uid:271,uname:"thorgnir",chid:1,tid:305011,t:"2015-01-04T21:14:33.433Z"},{m:"&gt;thorgnir да тут по-моему всегда теперь кладбище",uid:1155,uname:"boocha",chid:1,tid:305011,t:"2015-01-04T21:14:53.270Z"},{m:"&gt;boocha возможно. я так, последнее время заглядываю проверить, работает ли вообще ) хотя обычно проверяю по синей лампочке на серваке",uid:271,uname:"thorgnir",chid:1,tid:305011,t:"2015-01-04T21:15:39.394Z"},{m:"Фаб незримо присутствует )",uid:271,uname:"thorgnir",chid:1,tid:305e3,t:"2015-01-04T21:22:42.559Z"},{m:"Я не незримо, тут часовой сет от меня буквально недавно играл ))",uid:1499,uname:"Fabeltier",chid:1,tid:304998,t:"2015-01-04T21:24:30.954Z"},{m:"&gt;Fabeltier а я только пришел, напившись пива",uid:271,uname:"thorgnir",chid:1,tid:304998,t:"2015-01-04T21:24:50.621Z"}]
}]),angular.module("trigger").controller("MainCtrl",["$scope",function(t){angular.forEach(t.awesomeThings,function(t){t.rank=Math.random()})}]).controller("AppCtrl",["$scope","$timeout","$mdSidenav","$log",function(t,e,n){t.play=!0,t.togglePlay=function(){t.play=!t.play},t.toggleLeft=function(){n("left").toggle()},t.toggleRight=function(){n("right").toggle()}}]).controller("LeftCtrl",["$scope","$timeout","$mdSidenav","$log",function(t,e,n){t.close=function(){n("left").close()}}]).controller("RightCtrl",["$scope","$timeout","$mdSidenav","$log",function(t,e,n){t.close=function(){n("right").close()}}]),angular.module("trigger").run(["$templateCache",function(t){t.put("components/app/app.html",'<div ng-controller="AppCtrl" layout="column" layout-fill=""><section layout="row" flex=""><md-sidenav class="md-sidenav-left md-whiteframe-z2" component-id="left" is-locked-open="$media(\'sm\')"><md-toolbar class="console__switcher-cont"><svg class="switcher" ng-click="togglePlay()" ng-class="{\'play\' : play == true}" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 850.4 595.3" enable-background="new 0 0 850.4 595.3" xml:space="preserve"><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="55.3274" stroke-miterlimit="10" d="M154.7,568.2c-149-149-149-392.1,0-541.1"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="55.3274" stroke-miterlimit="10" d="M239,483.9C135.1,380,135.1,213.3,239,109.4"></path><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="55.3274" stroke-miterlimit="10" d="M323.3,399.6c-56.9-56.9-56.9-149,0-205.8"></path><circle class="c" fill="#7F7F7F" cx="425.2" cy="297.6" r="58.8"></circle><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="55.3274" stroke-miterlimit="10" d="M527.1,195.7c56.9,56.9,56.9,149,0,205.8"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="55.3274" stroke-miterlimit="10" d="M611.4,111.4c103.9,103.9,103.9,270.5,0,374.4"></path><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="55.3274" stroke-miterlimit="10" d="M695.7,27.1c149,149,149,392.1,0,541.1"></path></svg></md-toolbar><md-content class="console__ctrl" ng-controller="LeftCtrl"><div hide-gt-sm="" show-gt-md="" class="console" ng-include="\'components/console/console.html\'"></div></md-content></md-sidenav><div class="viewport--H"><div class="playlist" ng-include="\'components/playlist/playlist.html\'"></div></div><md-sidenav class="md-sidenav-right md-whiteframe-z2" component-id="right" is-locked-open="$media(\'md\')"><md-content ng-controller="RightCtrl"><div class="info" ng-include="\'components/info/info.html\'"></div></md-content></md-sidenav></section></div>'),t.put("components/chat/chat.html",'<div ng-controller="ChatCtrl" class="chat__module"><md-content class="chat__md-content"><md-list class="chat__list"><md-item ng-repeat="msg in messages" class="chat__list-item"><md-item-content class="chat__item"><div class="md-tile-content"><span class="msg__author">{{msg.uname}}:</span> <span class="msg__message">{{msg.m}}</span> <span class="msg__time">{{msg.t}}</span></div></md-item-content></md-item></md-list></md-content><div class="online__include" ng-include="\'components/online/online.html\'"></div><div class="chat__input-grp"><md-text-float class="chat__input" label="начинай вводить..." ng-model="message"></md-text-float><div class="chat__input-nav"><md-button class="chat__button--bold" aria-label="chat-bold">bold</md-button><md-button class="chat__button--irony" aria-label="chat-irony">irony</md-button><md-checkbox ng-model="data.tink" aria-label="Тиньк" class="chat__checkbox--tink">Тиньк</md-checkbox><md-checkbox ng-model="data.img" aria-label="Картинки" class="chat__checkbox--img">Картинки</md-checkbox></div></div></div>'),t.put("components/console/console.html",'<md-toolbar class="console__include" layout="column" layout-align="center center" ng-controller="ConsoleCtrl"><md-slider ng-model="volume" aria-label="volume-slider" ng-change="changeVolume(volume)" min="0" max="100" step="1"></md-slider><img ng-src="assets/images/logo.png" class="console__logo"><p class="console__stat">Слушают <span class="console__listeners">11</span> из них активно: <span class="console__active-users">9</span></p><md-button class="console__buttton--upload" aria-label="uploader-btn" ng-click="openUploadBar($event)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M19 13h-6v6h-2v-6h-6v-2h6v-6h2v6h6v2z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button><p class="console__user-limit">Ты можешь залить<time class="console__limit">00:20:21</time></p><p class="console__greating">45 символов это геноцид, <a href="#" class="console__username">username</a></p><p class="console__links"><a href="#" class="console__link">Жертвенник</a> <a href="#" class="console__link">Уголок потребителя</a> <a href="#" class="console__link">Сделать ночь</a> <a href="#" class="console__link">RTFM</a></p></md-toolbar>'),t.put("components/current/current.html",'<md-item ng-controller="CurrentCtrl"><md-item-content class="track track--current"><div class="track__img-cont"><img ng-src="{{current.src}}" class="track__img" alt=""></div><div class="track__content"><h3 class="track__artist">{{current.t}}</h3><h4 class="track__title">{{current.a}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in current.tg">{{tag.n}}</span></div><div class="track__time"><span>+{{current.tt | readableTime}}</span></div><div class="track__votes-block"><md-button aria-label="vote-up" class="md-button-colored"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M16.59 8.59l-4.59 4.58-4.59-4.58-1.41 1.41 6 6 6-6z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button><span class="track__rating">{{current.r}}</span><md-button aria-label="vote-down" class="md-button-colored"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M12 8l-6 6 1.41 1.41 4.59-4.58 4.59 4.58 1.41-1.41z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button></div></md-item-content><md-progress-linear class="md-warn" mode="buffer" value="{{determinateValue}}" md-buffer-value="{{determinateValue2}}"></md-progress-linear></md-item>'),t.put("components/democracy/democracy.html",'<div ng-controller="DemocracyCtrl" class="democracy__ctrl"><ng-switch on="data.selectedIndex" class="democracy__tabpanel-container"><div role="tabpanel" id="tabModerList-content" aria-labelledby="tabModerList" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()"><md-card class="democracy__elections"><h4 class="t-a-semicolon democracy__header">Выборы</h4><md-text-float label="ID кандидата" ng-model="user.lastName" class="democracy__elections-input"></md-text-float><div class="democracy__elections-row"><span class="democracy__elections-choice"><span class="t-a-semicolon">Ты проголосовал за</span> <span class="t-b-space democracy__elections-username">Suok</span></span><md-button aria-label="vote" class="md-raised democracy__elections-btn">Голосовать</md-button></div></md-card><md-card class="democracy__admin"><div class="president"><div class="header">Президент:</div><div class="content"><md-button aria-label="view-president" class="md-raised democracy__president-btn"><img src="assets/images/crown.svg" alt="" class="democracy__icon"> {{president.name}}</md-button><span class="t-b-space-hyphen-space">{{president.description}}</span></div></div><div class="ban"><div class="header">Забанить:</div><div class="content"><md-text-float label="ID" ng-model="user.lastName" class="input--id"></md-text-float><md-text-float label="Причина бана" ng-model="user.lastName" class="input--reason"></md-text-float><md-button aria-label="ban-user" class="md-raised ban--btn">Yarrr!</md-button></div></div><div class="moder"><div class="header">Модеры:</div><div class="content" ng-repeat="mod in moderators"><span class="democracy__moderator"><md-button aria-label="view-moderator" class="md-raised democracy__moderator"><img src="assets/images/death1.svg" alt="" class="democracy__icon"> {{mod.name}}</md-button><span class="t-b-space-hyphen-space">{{mod.description}}</span></span></div></div><div class="banned"><div class="header">Президент:</div><div class="content" ng-repeat="toll in banned"><span class="democracy__moderator"><md-button aria-label="view-banned" class="md-raised democracy__moderator"><img src="assets/images/skull.svg" alt="" class="democracy__icon"> {{toll.name}}</md-button><span class="t-b-space-hyphen-space">{{toll.reason}}</span></span></div></div></md-card></div><div role="tabpanel" id="tabModerText-content" aria-labelledby="tabModerText" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()"><md-card class="democracy__list"><md-button class="md-raised democracy__moderator"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M3 17.25v3.75h3.75l11.06-11.06-3.75-3.75-11.06 11.06zm17.71-10.21c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Cum mollitia laudantium tempora sint minima necessitatibus ex officiis non. Impedit, repudiandae officiis repellendus voluptatibus sit quidem sequi! Labore quia temporibus deserunt!</p></md-card></div></ng-switch><md-tabs class="md-accent" selected="data.selectedIndex"><md-tab id="ModerList" aria-controls="tabModerList-content"><span class="tabs__full">Moder</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M20 2h-16c-1.1 0-1.99.9-1.99 2l-.01 18 4-4h14c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-14 7h12v2h-12v-2zm8 5h-8v-2h8v2zm4-6h-12v-2h12v2z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></span></md-tab><md-tab id="tabModerText" aria-controls="tabModerText-content"><span class="tabs__full">Text</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M18 17h-12v-2h12v2zm0-4h-12v-2h12v2zm0-4h-12v-2h12v2zm-15 13l1.5-1.5 1.5 1.5 1.5-1.5 1.5 1.5 1.5-1.5 1.5 1.5 1.5-1.5 1.5 1.5 1.5-1.5 1.5 1.5 1.5-1.5 1.5 1.5v-20l-1.5 1.5-1.5-1.5-1.5 1.5-1.5-1.5-1.5 1.5-1.5-1.5-1.5 1.5-1.5-1.5-1.5 1.5-1.5-1.5-1.5 1.5-1.5-1.5v20z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></span></md-tab></md-tabs></div>'),t.put("components/history/history.html",'<div ng-controller="HistoryCtrl" class="history__module"><div class="history__checkbox-grp"><md-checkbox ng-model="gold" aria-label="Золото" class="history__checkbox--gold">Золото</md-checkbox></div><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'r\'" class="playlist__track"><div class="track__img-cont"><img ng-src="{{track.src}}" class="track__img" alt=""></div><div class="track__content"><h3 class="track__artist">{{track.t}}</h3><h4 class="track__title">{{track.a}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div><div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list></md-content></div>'),t.put("components/info/info.html",'<div ng-controller="InfoCtrl" class="tabsdemoStaticTabs"><md-tabs class="md-accent" selected="data.selectedIndex"><md-tab id="tabChat" aria-controls="tabChat-content"><span class="tabs__full">Чат</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M20 2h-16c-1.1 0-1.99.9-1.99 2l-.01 18 4-4h14c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-14 7h12v2h-12v-2zm8 5h-8v-2h8v2zm4-6h-12v-2h12v2z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></span></md-tab><md-tab id="tabOnline" aria-controls="tabOnline-content"><span class="tabs__full">Онлайн</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M14.69 17.1c-.74.58-1.7.9-2.69.9s-1.95-.32-2.69-.9c-.22-.17-.53-.13-.7.09-.17.22-.13.53.09.7.91.72 2.09 1.11 3.3 1.11s2.39-.39 3.31-1.1c.22-.17.26-.48.09-.7-.17-.23-.49-.26-.71-.1z"></path><circle cx="8.5" cy="12.5" r="1"></circle><path d="M12 0c-6.63 0-12 5.37-12 12s5.37 12 12 12 12-5.37 12-12-5.37-12-12-12zm7.96 14.82c-1.09 3.74-4.27 6.46-8.04 6.46-3.78 0-6.96-2.72-8.04-6.47-1.19-.11-2.13-1.18-2.13-2.52 0-1.27.85-2.31 1.97-2.5 2.09-1.46 3.8-3.49 4.09-5.05v-.01c1.35 2.63 6.3 5.19 11.83 5.06l.3-.03c1.28 0 2.31 1.14 2.31 2.54 0 1.38-1.02 2.51-2.29 2.52z"></path><circle cx="15.5" cy="12.5" r="1"></circle><path d="M0 0h24v24h-24z" fill="none"></path></svg></span></md-tab><md-tab id="tabHistory" aria-controls="tabHistory-content"><span class="tabs__full">История</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M0 0h24v24h-24z" fill="none"></path><path opacity=".9" d="M13 3c-4.97 0-9 4.03-9 9h-3l3.89 3.89.07.14 4.04-4.03h-3c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42c1.63 1.63 3.87 2.64 6.36 2.64 4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08v-4.25h-1.5z"></path></svg></span></md-tab><md-tab id="tabDemocracy" aria-controls="tabDemocracy-content"><span class="tabs__full">Демократия</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M0 0h24v24h-24z" fill="none"></path><path d="M4 10v7h3v-7h-3zm6 0v7h3v-7h-3zm-8 12h19v-3h-19v3zm14-12v7h3v-7h-3zm-4.5-9l-9.5 5v2h19v-2l-9.5-5z"></path></svg></span></md-tab><md-tab id="tabProfile" aria-controls="tabProfile-content"><span class="tabs__full">Профиль</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2h-14c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1h-12v-1z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></span></md-tab></md-tabs><ng-switch on="data.selectedIndex" class="tabpanel-container"><div role="tabpanel" id="tabChat-content" aria-labelledby="tabChat" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()"><div class="chat" ng-include="\'components/chat/chat.html\'"></div></div><div role="tabpanel" id="tabOnline-content" aria-labelledby="tabOnline" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()"><div class="online" ng-include="\'components/online/online.html\'"></div></div><div role="tabpanel" id="tabHistory-content" aria-labelledby="tabHistory" ng-switch-when="2" md-swipe-left="next()" md-swipe-right="previous()"><div class="history" ng-include="\'components/history/history.html\'"></div></div><div role="tabpanel" id="tabDemocracy-content" aria-labelledby="tabDemocracy" ng-switch-when="3" md-swipe-left="next()" md-swipe-right="previous()"><div class="democracy__include" ng-include="\'components/democracy/democracy.html\'"></div></div><div role="tabpanel" id="tabProfile-content" aria-labelledby="tabProfile" ng-switch-when="4" md-swipe-left="next()" md-swipe-right="previous()"><div class="profile__include" ng-include="\'components/profile/profile.html\'"></div></div></ng-switch></div>'),t.put("components/login/login.html",'<md-toolbar layout="row" layout-align="center center" ng-controller="LoginCtrl"><md-text-float class="settings__password--old" label="Старый пароль" ng-model="message"></md-text-float><md-text-float class="settings__password--new" label="Новый пароль" ng-model="message"></md-text-float><md-button aria-label="login" class="settings__password-btn">Yarrr!</md-button></md-toolbar>'),t.put("components/markdown/markdown.html",'<div class="markdown__ctrl" ng-controller="MarkdownCtrl"><md-toolbar class="markdown__toolbar"><h2 class="md-toolbar-tools"><span>Toolbar</span></h2></md-toolbar><md-content class="markdown__editor"><pagedown-editor content="data.content"></pagedown-editor></md-content><md-content class="markdown__preview"><pagedown-viewer content="data.content"></pagedown-viewer></md-content></div>'),t.put("components/minuses/minuses.html",'<div class="minuses__ctrl" ng-controller="MinusesCtrl"><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'r\'" class="playlist__track"><div class="track__img-cont"><img ng-src="{{track.src}}" class="track__img" alt=""></div><div class="track__content"><h3 class="track__artist">{{track.t}}</h3><h4 class="track__title">{{track.a}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div><div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list></md-content></div>'),t.put("components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="center center" ng-controller="NavbarCtrl"><md-button aria-label="lulz" href="https://github.com/Swiip/generator-gulp-angular">Gulp Angular</md-button><section flex="" layout="row" layout-align="left center"><md-button href="#" class="md-raised">Home</md-button><md-button href="#" class="md-raised">About</md-button><md-button href="#" class="md-raised">Contact</md-button></section><md-button aria-label="example" href="#">Current date: {{ date | date:\'yyyy-MM-dd\' }}</md-button></md-toolbar>'),t.put("components/online/online.html",'<md-content class="online__md-content" ng-controller="OnlineCtrl"><md-list class="online__list"><p class="online__here">Здесь: <span class="online__counter">17</span></p><md-item ng-repeat="user in users" class="online__list-item"><md-item-content class="online__item"><md-button href="#" aria-label="open-user-profile" class="user__2profile">i</md-button><md-button href="#" aria-label="add-user-to-chat" class="user__2chat">{{user.name}}</md-button></md-item-content></md-item></md-list></md-content>'),t.put("components/playlist/playlist.html",'<div class="playlist__ctrl" layout="column" ng-controller="PlaylistCtrl"><md-toolbar class="playlist__toolbar"><h2 class="md-toolbar-tools playlist__toolbar-tools"><md-button class="playlist__leftbar-swither" aria-label="leftbar-switcher" ng-click="toggleLeft()"><svg class="playlist__leftbar-svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 56 56" enable-background="new 0 0 56 56" xml:space="preserve"><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="3" stroke-miterlimit="10" d="M14.2,41.8c-7.6-7.6-7.6-20,0-27.6"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="3" stroke-miterlimit="10" d="M18.5,37.5c-5.3-5.3-5.3-13.8,0-19.1"></path><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="3" stroke-miterlimit="10" d="M22.8,33.2c-2.9-2.9-2.9-7.6,0-10.5"></path><circle class="c" fill="#7F7F7F" cx="28" cy="28" r="3"></circle><path class="b1" fill="none" stroke="#7F7F7F" stroke-width="3" stroke-miterlimit="10" d="M33.2,22.8c2.9,2.9,2.9,7.6,0,10.5"></path><path class="b2" fill="none" stroke="#9D9D9D" stroke-width="3" stroke-miterlimit="10" d="M37.5,18.5c5.3,5.3,5.3,13.8,0,19.1"></path><path class="b3" fill="none" stroke="#B4B4B4" stroke-width="3" stroke-miterlimit="10" d="M41.8,14.2c7.6,7.6,7.6,20,0,27.6"></path></svg></md-button><md-button class="playlist__rightbar-swither" aria-label="rightbar-switcher" ng-click="toggleRight()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M7 19h10v-15h-10v15zm-5-2h4v-11h-4v11zm16-11v11h4v-11h-4z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button></h2></md-toolbar><div class="current current--top" ng-include="\'components/current/current.html\'"></div><md-content class="playlist__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in playlist | orderBy:\'r\':reverse" class="playlist__track"><div class="track__img-cont"><img ng-src="{{track.src}}" class="track__img" alt=""></div><div class="track__content"><h3 class="track__artist">{{track.t}}</h3><h4 class="track__title">{{track.a}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div><div class="track__votes-block"><md-button class="md-fab track__vote--up" aria-label="track-up" ng-click="voteUp(track.id)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M16.59 8.59l-4.59 4.58-4.59-4.58-1.41 1.41 6 6 6-6z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button><span class="track__rating">{{track.r}}</span><md-button class="md-fab track__vote--down" aria-label="track-down" ng-click="voteDown(track.id)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M12 8l-6 6 1.41 1.41 4.59-4.58 4.59 4.58 1.41-1.41z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button></div></md-item></md-list></md-content><div class="current current--bottom" ng-include="\'components/current/current.html\'"></div></div>'),t.put("components/pluses/pluses.html",'<div class="pluses__ctrl" ng-controller="PlusesCtrl"><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'r\'" class="playlist__track"><div class="track__img-cont"><img ng-src="{{track.src}}" class="track__img" alt=""></div><div class="track__content"><h3 class="track__artist">{{track.t}}</h3><h4 class="track__title">{{track.a}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div><div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list></md-content></div>'),t.put("components/profile/profile.html",'<div class="profile__ctrl" ng-controller="ProfileCtrl"><ng-switch on="data.selectedIndex" class="profile__tabpanel-container"><div role="tabpanel" id="tabUser-content" aria-labelledby="tabUser" ng-switch-when="0" md-swipe-left="next()" md-swipe-right="previous()"><div class="user__include" ng-include="\'components/user/user.html\'"></div></div><div role="tabpanel" id="tabUploads-content" aria-labelledby="tabUploads" ng-switch-when="1" md-swipe-left="next()" md-swipe-right="previous()"><div class="uploads__include" ng-include="\'components/uploads/uploads.html\'"></div></div><div role="tabpanel" id="tabPluses-content" aria-labelledby="tabPluses" ng-switch-when="2" md-swipe-left="next()" md-swipe-right="previous()"><div class="pluses__include" ng-include="\'components/pluses/pluses.html\'"></div></div><div role="tabpanel" id="tabMinuses-content" aria-labelledby="tabMinuses" ng-switch-when="3" md-swipe-left="next()" md-swipe-right="previous()"><div class="minuses__include" ng-include="\'components/minuses/minuses.html\'"></div></div><div role="tabpanel" id="tabSettings-content" aria-labelledby="tabSettings" ng-switch-when="4" md-swipe-left="next()" md-swipe-right="previous()"><div class="settings__include" ng-include="\'components/settings/settings.html\'"></div></div></ng-switch><md-tabs class="md-accent" selected="data.selectedIndex"><md-tab id="tabUser" aria-controls="tabUser-content"><span class="tabs__full">User</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3l-10-9-10 9h3v8z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></span></md-tab><md-tab id="tabUploads" aria-controls="tabUploads-content"><span class="tabs__full">Uploads</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M0 0h24v24h-24z" fill="none"></path><path d="M19.35 10.04c-.68-3.45-3.71-6.04-7.35-6.04-2.89 0-5.4 1.64-6.65 4.04-3.01.32-5.35 2.87-5.35 5.96 0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zm-2.35 2.96l-5 5-5-5h3v-4h4v4h3z"></path></svg></span></md-tab><md-tab id="tabPluses" aria-controls="tabPluses-content"><span class="tabs__full">Pluses</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M0 0h24v24h-24z" fill="none"></path><path d="M1 21h4v-12h-4v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06l-1.06-1.05-6.58 6.59c-.37.36-.59.86-.59 1.41v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01.01-.08z"></path></svg></span></md-tab><md-tab id="tabMinuses" aria-controls="tabMinuses-content"><span class="tabs__full">Minuses</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M0 0h24v24h-24z" fill="none"></path><path d="M15 3h-9c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01-.01.08c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06l1.06 1.05 6.59-6.59c.36-.36.58-.86.58-1.41v-10c0-1.1-.9-2-2-2zm4 0v12h4v-12h-4z"></path></svg></span></md-tab><md-tab id="tabSettings" aria-controls="tabSettings-content"><span class="tabs__full">Settings</span> <span class="tabs__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M0 0h24v24h-24z" fill="none"></path><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65c-.03-.24-.24-.42-.49-.42h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-7.43 2.52c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></svg></span></md-tab></md-tabs></div>'),t.put("components/settings/settings.html",'<div class="settings__ctrl" ng-controller="SettingsCtrl"><md-card class="settings__card"><div class="settings__logout"><md-button class="settings__logout-btn" aria-label="logout">Log out</md-button></div><div class="settings__chat"><md-checkbox ng-model="data.tink" aria-label="Тинькать" class="settings__tink">Тинькать</md-checkbox><md-checkbox ng-model="data.img" aria-label="Показывать изображения" class="settings__img">Показывать изображения</md-checkbox><md-checkbox ng-model="data.female" aria-label="Ура! Я женщина!" class="settings__female">Ура! Я женщина!</md-checkbox></div><div class="settings__password"><md-text-float class="settings__password--old" aria-label="settings-old-password" label="Старый пароль" ng-model="message"></md-text-float><md-text-float class="settings__password--new" aria-label="settings-new-password" label="Новый пароль" ng-model="message"></md-text-float><md-text-float class="settings__password--new" label="Еще раз" ng-model="message"></md-text-float><md-button class="settings__password-btn" aria-label="change-password">Yarrr!</md-button></div></md-card></div>'),t.put("components/upload/upload.html",'<md-bottom-sheet class="md-grid uploadbar"><md-button>Upload - Drag & Drop here!</md-button><md-list><md-item ng-repeat="item in items"><md-button class="md-grid-item-content" aria-label="{{item.name}}" ng-click="listItemClick($index)"><div class="md-icon-container"><md-inline-grid-icon icon="{{item.icon}}"></md-inline-grid-icon></div><p class="md-grid-text">111</p></md-button></md-item></md-list></md-bottom-sheet>'),t.put("components/uploads/uploads.html",'<div class="uploads__ctrl" ng-controller="UploadsCtrl"><md-content class="history__content"><md-list layout="column" class="playlist__list"><md-item ng-repeat="track in tracks | orderBy:\'r\'" class="playlist__track"><div class="track__img-cont"><img ng-src="{{track.src}}" class="track__img" alt=""></div><div class="track__content"><h3 class="track__artist">{{track.t}}</h3><h4 class="track__title">{{track.a}}</h4></div><div class="track__tags"><span class="track__tag" ng-repeat="tag in track.tg">{{tag}}</span></div><div class="track__time"><span>+{{track.tt | readableTime}}</span></div><div class="track__votes-block"><span class="track__rating">{{track.r}}</span></div></md-item></md-list></md-content></div>'),t.put("components/user/user.html",'<div class="user__ctrl" ng-controller="UserCtrl"><md-card class="profile__main"><div class="user__nav"><div class="user_names-block"><span class="user__name">{{user.name}}</span> <span class="user__id">#{{user.id}}</span></div><div class="user__votes-block"><md-button class="md-fab user__vote--up" aria-label="user-plus" ng-click="voteUp(track.id)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M16.59 8.59l-4.59 4.58-4.59-4.58-1.41 1.41 6 6 6-6z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button><span class="user__karma">{{user.karma}}</span><md-button class="md-fab user__vote--down" aria-label="user-minus" ng-click="voteDown(track.id)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="M12 8l-6 6 1.41 1.41 4.59-4.58 4.59 4.58 1.41-1.41z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg></md-button></div></div><div class="user__main"><img class="user__img" ng-src="assets/images/{{user.img}}" alt=""><div class="user__additional"><p class="user__descripton">{{user.description}}</p><p class="user__origin">С нами с <span class="user__regdate">{{user.regdate}}</span> по приглашению <button class="user__father" aria-label="user-origin">{{user.father.name}}</button></p><p class="user__invited">Понаприглашала: <span class="user__children" ng-repeat="child in user.children"><button class="user__child" aria-label="user-child">{{child.name}}</button></span></p></div></div><div class="user__control"><md-checkbox ng-model="data.img" aria-label="ОМММ" class="user__ignore">ОМММ</md-checkbox><md-button class="user__ban" aria-label="user-ban">Забанить</md-button></div></md-card></div>')}]);
