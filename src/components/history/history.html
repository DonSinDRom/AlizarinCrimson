<div ng-controller="HistoryCtrl" class="history__module" ng-init="showHistory()">

  <div class="history__search-grp">
    <md-checkbox ng-model="data.gold" ng-change="showHistory()" aria-label="Золото" class="history__checkbox--gold">
      Золото
    </md-checkbox>
    <md-input-container class="history--input">
      <label>Артист</label>
      <input type="text" ng-model="data.artist">
    </md-input-container>
    <md-input-container class="history--input">
      <label>Название</label>
      <input type="text" ng-model="data.title" ng-enter="showHistory()">
    </md-input-container>
    <md-button class="md-fab history--search-btn" ng-click="showHistory()" aria-label="Search-button">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path d="M15.5 14h-.79l-.28-.27c.98-1.14 1.57-2.62 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 2.91-6.5 6.5 2.91 6.5 6.5 6.5c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99 1.49-1.49-4.99-5zm-6 0c-2.49 0-4.5-2.01-4.5-4.5s2.01-4.5 4.5-4.5 4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5z"/>
        <path d="M0 0h24v24h-24z" fill="none"/>
      </svg>
    </md-button>
  </div>

  <md-content class="history__content">
    <md-list layout="column" class="playlist__list">
      <md-item ng-repeat="track in tracks | orderBy:'tt':true" class="playlist__track" ng-class="{'track--gold': gold == true}">
        <div class="track__img-cont">
<!--          <img ng-src="{{track.src}}" class="track__img" alt="">-->
          <img ng-src="assets\images\nocover.png" class="track__img" alt="">
        </div>
        <div class="track__row">
          <div class="track__base">
            <div class="track__content">
              <h3 class="track__artist">{{track.a}}</h3>
              <h4 class="track__title">{{track.t}}</h4>
            </div>
            <div class="track__tags">
              <span class="track__tag" ng-repeat="tag in track.tg">
                {{tag.n}}
              </span>
            </div>
            <div class="track__time">
              <span>+{{track.tt | readableTime}}</span>
            </div>
          </div>
          <div class="track__additional">
            <div class="track__links">
              <a href="http://vk.com/audio?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>vk</a>
              <a href="http://muzebra.com/search/?q={{track.t}}-{{track.a}}" target="_blank" class="track__link">>muzebra</a>
              <a href="#" class="track__link" ng-click="trackToChat(track.id)">>в чат</a>
            </div>
            <div class="track__upload-info">
              прнс <a href="#" {{track.sid}}>{{ track.s }}</a><span am-time-ago="track.ut"></span>
            </div>
          </div>
        </div>
        <div class="track__votes-block">
          <span class="track__rating">{{track.r}}</span>
        </div>
      </md-item>
    </md-list>
    <div class="histroy--emtpy" ng-show="tracks.length < 1">
      <p class="history--empty-text">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
          <path d="M0 0h24v24h-24z" fill="none"/>
          <path d="M11.99 2c-5.52 0-9.99 4.48-9.99 10s4.47 10 9.99 10c5.53 0 10.01-4.48 10.01-10s-4.48-10-10.01-10zm.01 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5h-10.22c.8 2.04 2.78 3.5 5.11 3.5z"/>
        </svg>
        К сожалению ничего не нашлось
      </p>
    </div>
  </md-content>

</div>

