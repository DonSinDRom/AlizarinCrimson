<div ng-controller="ChatCtrl" class="chat__module" layout="column">

  <md-button class="chat__swipe-online" ng-class="{ 'chat__swipe-online--show-online': swiped == false, 'chat__swipe-online--hide-online': swiped == true }" aria-label="swipe__online" ng-click="toggleRight()">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <path d="M15.41 7.41l-1.41-1.41-6 6 6 6 1.41-1.41-4.58-4.59z"/>
      <path d="M0 0h24v24h-24z" fill="none"/>
    </svg>
  </md-button>

  <md-content class="chat__md-content" md-swipe-left="swipeOnline()" scroll-glue>
    <md-list class="chat__list">
      <md-item ng-repeat="msg in messages" class="chat__list-item">
        <md-item-content class="chat__item">
          <div class="md-tile-content" class="chat__item-content" ng-class="{ 'private': msg.pm, 'personal': msg.type }">
            <span class="msg__author" ng-click="addNick(msg.uname)">{{msg.uname}}:</span>
            <span class="msg__message" ng-bind-html='msg.m'></span>
            <span class="msg__time" am-time-ago="msg.t"></span>
          </div>
        </md-item-content>
      </md-item>
    </md-list>
  </md-content>

  <div class="chat__input-grp">
    <md-input-container flex>
      <label>начинай вводить...</label>
      <textarea id="chatInput" class="chat__input" label="начинай вводить..." ng-enter="sendMessage()" ng-model="message" columns="1" md-maxlength="240"></textarea>
      <div class="chat__input-nav">
        <md-button class="chat__button--bold" aria-label="chat-bold">bold</md-button>
        <md-button class="chat__button--irony" aria-label="chat-irony">irony</md-button>
        <md-checkbox ng-model="data.tink" ng-change="setTink()" aria-label="Тиньк" class="chat__checkbox--tink">
          Тиньк
        </md-checkbox>
        <md-checkbox ng-model="data.img" ng-change="setImg()" aria-label="Картинки" class="chat__checkbox--img">
          Картинки
        </md-checkbox>
      </div>
    </md-input-container>
  </div>

  <md-sidenav class="online__include md-sidenav-right md-whiteframe-z2" md-component-id="r" ng-include="'components/online/online.html'"></md-sidenav>

</div>
